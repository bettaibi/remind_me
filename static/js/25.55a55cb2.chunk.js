(this.webpackJsonpremind_me=this.webpackJsonpremind_me||[]).push([[25],{116:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(20),a=n(26),c=n(1),s=n(21),u=n.n(s),i=n(406),o=n(2),l=function(t){var e=t.isShown,n=t.message,r=t.type,a=t.title,c=document.getElementById("portal");return u.a.createPortal(Object(o.jsxs)(i.a,{className:"m-3 fixed-top",show:e,variant:r,style:{zIndex:9999999999},children:[Object(o.jsx)("h5",{children:a}),Object(o.jsx)("p",{className:"m-0",children:n})]}),c)},d=function(){var t=Object(c.useState)({title:"",isShown:!1,message:"",type:"success"}),e=Object(a.a)(t,2),n=e[0],s=e[1];return{showMsg:function(t,e,a){s({isShown:!0,message:e,title:t,type:a||"success"}),setTimeout((function(){s(Object(r.a)(Object(r.a)({},n),{},{isShown:!1}))}),3e3)},Snackbar:Object(c.useCallback)((function(){return Object(o.jsx)(l,{message:n.message,isShown:n.isShown,type:n.type,title:n.title})}),[n])}}},125:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return r}));var r={};n.r(r),n.d(r,"USERS",(function(){return p})),n.d(r,"VERBS",(function(){return f})),n.d(r,"ADJECTIVES",(function(){return h})),n.d(r,"ADVERBS",(function(){return b})),n.d(r,"NOUNS",(function(){return v})),n.d(r,"PHRASALVERBS",(function(){return x})),n.d(r,"LINKERS",(function(){return O})),n.d(r,"TOPICS",(function(){return m})),n.d(r,"THINGS",(function(){return j})),n.d(r,"NOTES",(function(){return g})),n.d(r,"IDIOMS",(function(){return S})),n.d(r,"TENSES",(function(){return w})),n.d(r,"GAMES",(function(){return y})),n.d(r,"QA",(function(){return N})),n.d(r,"TODOS",(function(){return k}));var a=n(20),c=n(23),s=n.n(c),u=n(31),i=new(n(136).a)("remindMe");i.config.debug=!1;var o=i,l=function(t,e,n){return{message:e,success:t,data:n}},d=function(t){function e(){return(e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.collection(t).add(n);case 3:return r=e.sent,e.abrupt("return",l(!0,"New record has been added",r));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(!1,"Failed to create"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function n(){return(n=Object(u.a)(s.a.mark((function e(n,r){var c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=n.label.trim().toLowerCase(),e.next=4,o.collection(t).doc({label:c}).get();case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",l(!1,"The word ".concat(c," already exsist!")));case 7:return e.next=9,o.collection(t).add(Object(a.a)(Object(a.a)({},n),{},{label:c}),r);case 9:return u=e.sent,e.abrupt("return",l(!0,"New record has been added",u));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",l(!1,"Failed to persist a new Word"));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function c(){return(c=Object(u.a)(s.a.mark((function e(n,r){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.collection(t).doc({id:r}).update(Object(a.a)(Object(a.a)({},n),{},{label:n.label.trim().toLowerCase()}));case 3:return c=e.sent,e.abrupt("return",l(!0,"New record has been updated",c));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(!1,"Failed to update"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(){return(i=Object(u.a)(s.a.mark((function e(n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.collection(t).doc({id:r}).set(n);case 3:return a=e.sent,e.abrupt("return",l(!0,"New record has been overwrited",a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(!1,"Failed to overwrite"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(){return(d=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.collection(t).doc({id:n}).delete();case 3:return r=e.sent,e.abrupt("return",l(!0,"New record has been removed",r));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(!1,"Failed to remove"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(){return(p=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.collection(t).delete();case 3:return e.abrupt("return",l(!0,"The whole collection has been removed"));case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",l(!1,"Failed to remove"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function f(){return(f=Object(u.a)(s.a.mark((function t(e,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.collection(e.toUpperCase()).set(n,{keys:!0});case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function h(){return(h=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.collection(t).get();case 3:return n=e.sent,e.abrupt("return",l(!0,"list of data",n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(!1,"Failed to get"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.collection(t).doc({id:n}).get();case 3:return r=e.sent,e.abrupt("return",l(!0,"find a document",r));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(!1,"Failed to get"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(){return(v=Object(u.a)(s.a.mark((function t(){var e,n,a,c,u,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.collection(r.VERBS).get();case 3:return e=t.sent,t.next=6,o.collection(r.NOUNS).get();case 6:return n=t.sent,t.next=9,o.collection(r.ADJECTIVES).get();case 9:return a=t.sent,t.next=12,o.collection(r.ADVERBS).get();case 12:return c=t.sent,t.next=15,o.collection(r.PHRASALVERBS).get();case 15:return u=t.sent,t.next=18,o.collection(r.LINKERS).get();case 18:return i=t.sent,t.abrupt("return",l(!0,"get Statistics",[e.length,n.length,a.length,c.length,u.length,i.length]));case 22:throw t.prev=22,t.t0=t.catch(0),t.t0;case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function x(){return(x=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JSON,t.next=3,o.collection(r.VERBS).get();case 3:return t.t1=t.sent,t.t2=t.t0.stringify.call(t.t0,t.t1),t.t3=JSON,t.next=8,o.collection(r.NOUNS).get();case 8:return t.t4=t.sent,t.t5=t.t3.stringify.call(t.t3,t.t4),t.t6=JSON,t.next=13,o.collection(r.ADJECTIVES).get();case 13:return t.t7=t.sent,t.t8=t.t6.stringify.call(t.t6,t.t7),t.t9=JSON,t.next=18,o.collection(r.ADVERBS).get();case 18:return t.t10=t.sent,t.t11=t.t9.stringify.call(t.t9,t.t10),t.t12=JSON,t.next=23,o.collection(r.PHRASALVERBS).get();case 23:return t.t13=t.sent,t.t14=t.t12.stringify.call(t.t12,t.t13),t.t15=JSON,t.next=28,o.collection(r.LINKERS).get();case 28:return t.t16=t.sent,t.t17=t.t15.stringify.call(t.t15,t.t16),t.t18=JSON,t.next=33,o.collection(r.IDIOMS).get();case 33:return t.t19=t.sent,t.t20=t.t18.stringify.call(t.t18,t.t19),t.t21=JSON,t.next=38,o.collection(r.NOTES).get();case 38:return t.t22=t.sent,t.t23=t.t21.stringify.call(t.t21,t.t22),t.t24=JSON,t.next=43,o.collection(r.TENSES).get();case 43:return t.t25=t.sent,t.t26=t.t24.stringify.call(t.t24,t.t25),t.t27=JSON,t.next=48,o.collection(r.TOPICS).get();case 48:return t.t28=t.sent,t.t29=t.t27.stringify.call(t.t27,t.t28),t.t30=JSON,t.next=53,o.collection(r.QA).get();case 53:return t.t31=t.sent,t.t32=t.t30.stringify.call(t.t30,t.t31),t.t33=JSON,t.next=58,o.collection(r.TODOS).get();case 58:return t.t34=t.sent,t.t35=t.t33.stringify.call(t.t33,t.t34),t.abrupt("return",{verbs:t.t2,nouns:t.t5,adjectives:t.t8,adverbs:t.t11,phrasalVerbs:t.t14,linkers:t.t17,idioms:t.t20,notes:t.t23,tenses:t.t26,topics:t.t29,qa:t.t32,todos:t.t35});case 61:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{save:function(t){return e.apply(this,arguments)},saveByKey:function(t,e){return n.apply(this,arguments)},findOneAndUpdate:function(t,e){return c.apply(this,arguments)},setById:function(t,e){return i.apply(this,arguments)},findOneAndDelete:function(t){return d.apply(this,arguments)},drop:function(){return p.apply(this,arguments)},init:function(t,e){return f.apply(this,arguments)},find:function(){return h.apply(this,arguments)},findOne:function(t){return b.apply(this,arguments)},getStatistics:function(){return v.apply(this,arguments)},getDatetoStore:function(){return x.apply(this,arguments)}}},p="USERS",f="VERBS",h="ADJECTIVES",b="ADVERBS",v="NOUNS",x="PHRASALVERBS",O="LINKERS",m="TOPICS",j="THINGS",g="NOTES",S="IDIOMS",w="TENSES",y="GAMES",N="QA",k="TODOS"},133:function(t,e,n){"use strict";var r=n(7),a=n(9),c=n(19),s=n.n(c),u=n(1),i=n.n(u),o=n(28),l=n(123),d=i.a.forwardRef((function(t,e){var n=t.bsPrefix,c=t.variant,u=t.size,d=t.active,p=t.className,f=t.block,h=t.type,b=t.as,v=Object(a.a)(t,["bsPrefix","variant","size","active","className","block","type","as"]),x=Object(o.a)(n,"btn"),O=s()(p,x,d&&"active",c&&x+"-"+c,f&&x+"-block",u&&x+"-"+u);if(v.href)return i.a.createElement(l.a,Object(r.a)({},v,{as:b,ref:e,className:s()(O,v.disabled&&"disabled")}));e&&(v.ref=e),h?v.type=h:b||(v.type="button");var m=b||"button";return i.a.createElement(m,Object(r.a)({},v,{className:O}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},e.a=d},405:function(t,e,n){"use strict";n.r(e);var r=n(23),a=n.n(r),c=n(31),s=n(26),u=n(1),i=n.n(u),o=n(409),l=n(133),d=n(120),p=n(119),f=n(35),h=n(25),b=function(){function t(){return(t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.b.collection(e).doc("storedData").get();case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function e(){return(e=Object(c.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.b.collection(e).doc("storedData").set(n);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function n(){return(n=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.b.collection(e).doc("dates").get();case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function r(){return(r=Object(c.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.b.collection(e).doc("dates").set(n);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return{getStoredData:function(e){return t.apply(this,arguments)},updateDates:function(t,e){return r.apply(this,arguments)},getlastBackupDates:function(t){return n.apply(this,arguments)},updateStoredData:function(t,n){return e.apply(this,arguments)}}},v=n(125),x=n(116),O=n(2),m={code:""},j="bn55362523",g=d.b().shape({code:d.d().required("This field is required").min(10,"Code secret must has 10 letters").max(10,"Code secret must has 10 letters").oneOf([j],"Secret code mismatch")}),S=function(t){var e=t.id,n=(t.uploadedAt,t.mergedAt),r=Object(v.b)(""),s=r.getDatetoStore,u=(r.init,b()),d=u.updateStoredData,f=u.updateDates,h=u.getStoredData,S=Object(x.a)(),w=S.Snackbar,y=S.showMsg,N=function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Merge a new Data, confirm?"))try{h(e).then(function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.exists||y("Failure","Failed to reach data from the server","warning");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){y("Failure",t.message,"warning")}))}catch(n){y("Failure","Failed to merge data","warning")}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(c.a)(a.a.mark((function t(r){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Upload a new copy into the server, confirm?")){t.next=12;break}return t.prev=2,t.next=5,s();case 5:c=t.sent,d(e,c).then((function(){f(e,{uploadedAt:Date.now(),mergedAt:n}).then((function(){y("Success","A new copy is uploaded","success"),r()})).catch((function(t){y("Failure",t.message,"warning")}))})).catch((function(t){console.log(t.message),y("Failure",t.message,"warning")})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),y("Failure","Failed to upload data","warning");case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(i.a.Fragment,{children:[Object(O.jsx)(p.b,{validationSchema:g,onSubmit:function(t){return console.log(t)},initialValues:m,children:function(t){var e=t.handleBlur,n=t.handleSubmit,r=t.handleChange,a=t.values,c=t.errors,s=t.touched,u=t.handleReset;return Object(O.jsxs)(o.a,{onSubmit:n,children:[Object(O.jsxs)(o.a.Group,{children:[Object(O.jsx)(o.a.Control,{autoComplete:"off",size:"sm",placeholder:"Enter the secret code",name:"code",onChange:r,onBlur:e,value:a.code,isInvalid:s.code&&!!c.code}),Object(O.jsx)(o.a.Control.Feedback,{type:"invalid",children:c.code})]}),Object(O.jsxs)("div",{className:"text-right mt-3",children:[Object(O.jsx)(l.a,{size:"sm",variant:"dark",className:"mr-2",onClick:function(){return N(u)},disabled:a.code!==j,children:"Merge Data"}),Object(O.jsx)(l.a,{size:"sm",variant:"primary",onClick:function(){return k(u)},disabled:a.code!==j,children:"Upload data"})]})]})}}),Object(O.jsx)(w,{})]})};e.default=function(){var t=Object(u.useState)(null),e=Object(s.a)(t,2),n=e[0],r=e[1],i=Object(u.useState)(null),o=Object(s.a)(i,2),l=o[0],d=o[1],p=Object(f.b)().user,h=b().getlastBackupDates;function v(){return(v=Object(c.a)(a.a.mark((function t(){var e,n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(p.uid);case 3:(e=t.sent).exists&&(r((null===(n=e.data())||void 0===n?void 0:n.uploadedAt)||null),d((null===(c=e.data())||void 0===c?void 0:c.mergedAt)||null)),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[]),Object(O.jsxs)("div",{className:"bg-light p-3 border rounded",children:[Object(O.jsx)("h6",{children:"Backup Setting"}),Object(O.jsxs)("p",{children:["All your data are stored ",Object(O.jsx)("b",{className:"text-info",children:"locally"})," on your device, use a ",Object(O.jsx)("b",{className:"text-info",children:"backup"})," file to share your local data between several devices.",Object(O.jsx)("br",{}),"Data are only stored on your devices. Without an existing backup file the access to your restoring data is ",Object(O.jsx)("b",{className:"text-danger",children:"not possible."})," ",Object(O.jsx)("br",{}),Object(O.jsx)("b",{className:"text-dark",children:"Merge Data"})," to update your current saved data with the latest backup stored file. ",Object(O.jsx)("br",{}),Object(O.jsx)("strong",{className:"text-primary",children:"Upload Data"})," in order to generate a new backup file and store it on the server. ",Object(O.jsx)("br",{}),Object(O.jsxs)("span",{className:"d-flex flex-column mt-1",children:[Object(O.jsxs)("small",{className:"text-secondary",children:[" Latest Merge: ",n?new Date(n||"").toLocaleDateString("en-us"):"Not mention"]}),Object(O.jsxs)("small",{className:"text-secondary",children:[" Latest Upload: ",l?new Date(l||"").toLocaleDateString("en-us"):"No file found"]})]})]}),Object(O.jsx)(S,{id:p.uid,uploadedAt:n,mergedAt:l})]})}}}]);
//# sourceMappingURL=25.55a55cb2.chunk.js.map