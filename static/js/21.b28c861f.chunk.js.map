{"version":3,"sources":["components/useToggleState/index.tsx","components/Snackbar/index.tsx","components/Dialog/index.tsx","components/ConfirmDialog/index.tsx","cache/db.ts","cache/useCache.ts","cache/collections.ts","firebase/useStorage/index.ts","../node_modules/react-bootstrap-icons/dist/icons/trash.js","pages/Main/things/NewThings/index.tsx","../node_modules/react-image-file-resizer/build/index.js"],"names":["useToggleState","useState","show","setShow","handleToggle","prev","handleShow","handleHide","SnackbarContainer","isShown","message","type","title","Portal","document","getElementById","ReactDOM","createPortal","className","variant","style","zIndex","useSnackbar","snackbar","setSnackbar","showMsg","msg","setTimeout","Snackbar","useCallback","Dialog","handleClose","centered","size","children","headerText","onHide","Header","closeButton","Body","useConfirmDialog","obj","isLoading","setIsloading","useEffect","onConfirmClick","ConfirmDialog","onClick","disabled","as","animation","role","aria-hidden","toggleConfirmMessage","db","Localbase","config","debug","toJson","success","data","useCache","collection","a","add","saved","key","id","doc","update","updated","set","delete","removed","datasource","get","list","found","save","saveByKey","findOneAndUpdate","setById","findOneAndDelete","drop","init","find","findOne","USERS","VERBS","ADJECTIVES","ADVERBS","NOUNS","PHRASALVERBS","LINKERS","TOPICS","THINGS","NOTES","IDIOMS","TENSES","GAMES","QA","TODOS","useStorage","upload","img","storageRef","storage","ref","fileId","v4","fileRef","child","putString","snapshot","getDownloadURL","downloadURL","removeUpload","err","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Trash","forwardRef","_ref","color","rest","React","createElement","xmlns","viewBox","width","height","fill","d","fillRule","propTypes","PropTypes","string","oneOfType","number","defaultProps","INITIAL_VALUE","label","picture","things","name","translation","utility","schema","yup","shape","required","of","ThingsForm","initialValues","onSubmit","values","resetForm","create","validationSchema","handleSubmit","handleChange","handleBlur","touched","errors","Group","Label","Control","spellCheck","autoComplete","placeholder","onChange","onBlur","value","isInvalid","Feedback","remove","push","Fragment","InsertRecord","map","item","RemoveRecord","index","Row","Col","console","log","newRecord","PictureComponent","getCurrentPic","pic","setPic","onPicChange","file","resizeFile","base64","Promise","resolve","Resizer","imageFileResizer","uri","FileUpload","f","src","alt","objectFit","useRef","current","click","hidden","e","files","accept","NewThings","currentPic","Collections","setIsLoading","data64","replace","t","r","o","defineProperty","enumerable","Symbol","toStringTag","default","n","TypeError","Math","round","l","h","u","g","c","changeHeightWidth","s","getContext","rotate","PI","translate","drawImage","toDataURL","concat","atob","toString","slice","Array","charCodeAt","Uint8Array","b64toByteArrays","Blob","lastModified","Date","File","FileReader","Error","includes","readAsDataURL","onload","Image","result","resizeAndRotateImage","b64toBlob","b","v","b64toFile","onerror","configurable","writable","createResizedImage","module","exports"],"mappings":"8JAGaA,EAAiB,WAAM,IAAD,EAEPC,oBAAkB,GAFX,mBAExBC,EAFwB,KAElBC,EAFkB,KAgB/B,MAAO,CACHD,OACAE,aAdiB,WACjBD,GAAQ,SAAAE,GAAI,OAAKA,MAcjBC,WAXe,WACfH,GAAQ,IAWRI,WARe,WACfJ,GAAQ,O,+HCHVK,EAA6C,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MACpEC,EAAcC,SAASC,eAAe,UAE5C,OACIC,IAASC,aACD,eAAC,IAAD,CAAOC,UAAU,gBAAgBhB,KAAMO,EAASU,QAASR,EAAMS,MAAO,CAACC,OAAQ,YAA/E,UACI,6BAAKT,IACL,mBAAGM,UAAU,MAAb,SACKR,OAGbG,IAKCS,EAAc,WAAO,IAAD,EACGrB,mBAAwB,CAACW,MAAO,GAAIH,SAAS,EAAOC,QAAS,GAAIC,KAAM,YAD1E,mBACtBY,EADsB,KACZC,EADY,KAuB7B,MAAO,CACHC,QArBY,SAACb,EAAec,EAAaf,GACzCa,EAAY,CAAEf,SAAS,EAAMC,QAASgB,EAAKd,QAAOD,KAAMA,GAAQ,YAEhEgB,YAAW,WACPH,EAAY,2BAAID,GAAL,IAAed,SAAS,OACpC,MAiBHmB,SAdaC,uBACb,kBACI,cAACrB,EAAD,CACIE,QAASa,EAASb,QAClBD,QAASc,EAASd,QAClBE,KAAMY,EAASZ,KACfC,MAASW,EAASX,UAG1B,CAACW,O,iCCjDT,2DAWaO,EAAgC,SAAC,GAA+D,IAA9D5B,EAA6D,EAA7DA,KAAM6B,EAAuD,EAAvDA,YAAaC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,WAExF,OACI,eAAC,IAAD,CACAjC,KAAMA,EACNkC,OAAQL,EACRC,SAAUA,EACVC,KAAMA,EAJN,UAOCE,GAAc,cAAC,IAAME,OAAP,CAAcC,aAAW,EAAzB,SACb,oBAAIpB,UAAU,wBAAd,SAAuCiB,MAGzC,cAAC,IAAMI,KAAP,UACKL,S,iIChBAM,EAAmB,SAACC,GAA6B,IAAD,EACdzC,cAAnCI,EADiD,EACjDA,aAAcF,EADmC,EACnCA,KAAMK,EAD6B,EAC7BA,WAD6B,EAEvBN,oBAAkB,GAFK,mBAElDyC,EAFkD,KAEvCC,EAFuC,KAIzDC,qBAAU,WACN,OAAO,WACHD,GAAa,MAElB,IAEH,IAIQjC,EAA4B+B,EAA5B/B,QAASmC,EAAmBJ,EAAnBI,eA+BjB,MAAO,CACHC,cA9BkBjB,uBAClB,kBACI,eAAC,IAAD,CAAQ3B,KAAMA,EAAM8B,UAAU,EAAMC,KAAK,KAAKF,YAAaxB,EAA3D,UACI,yCACA,4BACKG,IAEL,sBAAKQ,UAAU,aAAf,UACI,cAAC,IAAD,CAAQA,UAAU,OAAOC,QAAQ,YAAY4B,QAASxC,EAAY0B,KAAK,KAAvE,mBACA,cAAC,IAAD,CAAQd,QAAQ,UAAUc,KAAK,KAAKc,QAASF,EAAgBG,SAAUN,EAAvE,SACMA,EACE,qCACI,cAAC,IAAD,CACIO,GAAG,OACHC,UAAU,SACVjB,KAAK,KACLkB,KAAK,SACLC,cAAY,SAEhB,sBAAMlC,UAAU,OAAhB,2BATM,oBAgB9B,CAAChB,EAAMQ,EAASmC,EAAgBtC,EAAYmC,IAK5CW,qBArCyB,WACzBjD,KAqCAuC,kB,6tBCvDJW,EAAK,I,OAAIC,GAAU,YAEvBD,EAAGE,OAAOC,OAAQ,EAEHH,QCJTI,EAAS,SAACC,EAAkBjC,EAAakC,GAC3C,MAAO,CACHlD,QAASgB,EACTiC,UACAC,SA8GOC,EA1GE,SAACC,GAAuB,4CAErC,WAAqBrB,GAArB,eAAAsB,EAAA,+EAE4BT,EAAGQ,WAAWA,GAAYE,IAAIvB,GAF1D,cAEcwB,EAFd,yBAGeP,GAAO,EAAM,4BAA6BO,IAHzD,yDAMeP,GAAO,EAAO,qBAN7B,0DAFqC,kEAYrC,WAA0BjB,EAAUyB,GAApC,eAAAH,EAAA,+EAE4BT,EAAGQ,WAAWA,GAAYE,IAAIvB,EAAKyB,GAF/D,cAEcD,EAFd,yBAGeP,GAAO,EAAM,4BAA6BO,IAHzD,yDAMeP,GAAO,EAAO,qBAN7B,0DAZqC,kEAsBrC,WAAiCjB,EAAU0B,GAA3C,eAAAJ,EAAA,+EAE8BT,EAAGQ,WAAWA,GAAYM,IAAI,CAACD,OAAKE,OAAO5B,GAFzE,cAEc6B,EAFd,yBAGeZ,GAAO,EAAM,8BAA+BY,IAH3D,yDAMeZ,GAAO,EAAO,qBAN7B,0DAtBqC,kEAgCrC,WAAwBjB,EAAU0B,GAAlC,eAAAJ,EAAA,+EAE0BT,EAAGQ,WAAWA,GAAYM,IAAI,CAACD,OAAKI,IAAI9B,GAFlE,cAEc2B,EAFd,yBAGeV,GAAO,EAAM,iCAAkCU,IAH9D,yDAMeV,GAAO,EAAO,wBAN7B,0DAhCqC,kEA0CrC,WAAiCS,GAAjC,eAAAJ,EAAA,+EAE8BT,EAAGQ,WAAWA,GAAYM,IAAI,CAACD,OAAKK,SAFlE,cAEcC,EAFd,yBAGef,GAAO,EAAM,8BAA+Be,IAH3D,yDAMef,GAAO,EAAO,qBAN7B,0DA1CqC,kEAoDrC,sBAAAK,EAAA,+EAEcT,EAAGQ,WAAWA,GAAYU,SAFxC,gCAGed,GAAO,EAAM,0CAH5B,yDAMeA,GAAO,EAAO,qBAN7B,yDApDqC,kEA8DrC,WAAqBE,GAArB,eAAAG,EAAA,+EAEiCT,EAAGQ,WAAWA,GAAYS,IAAIX,GAF/D,cAEcc,EAFd,yBAGehB,GAAO,EAAM,4BAA6BgB,IAHzD,yDAMehB,GAAO,EAAO,qBAN7B,0DA9DqC,kEAwErC,4BAAAK,EAAA,+EAE2BT,EAAGQ,WAAWA,GAAYa,MAFrD,cAEcC,EAFd,yBAGelB,GAAO,EAAM,eAAgBkB,IAH5C,yDAMelB,GAAO,EAAO,kBAN7B,0DAxEqC,kEAkFrC,WAAwBS,GAAxB,eAAAJ,EAAA,+EAE4BT,EAAGQ,WAAWA,GAAYM,IAAID,GAAIQ,MAF9D,cAEcE,EAFd,yBAGenB,GAAO,EAAM,kBAAmBmB,IAH/C,yDAMenB,GAAO,EAAO,kBAN7B,0DAlFqC,sBA6FrC,MAAO,CACHoB,KA9FkC,SAAD,mCA+FjCC,UA/FiC,8CAgGjCC,iBAhGiC,8CAiGjCC,QAjGiC,8CAkGjCC,iBAlGiC,4CAmGjCC,KAnGiC,2CAoGjCC,KApGiC,4CAqGjCC,KArGiC,2CAsGjCC,QAtGiC,8CCX5BC,EAAQ,QACrBC,EAAQ,QACRC,EAAa,aACbC,EAAU,UACVC,EAAQ,QACRC,EAAe,eACfC,EAAU,UACVC,EAAS,SACTC,EAAS,SACTC,EAAQ,QACRC,EAAS,SACTC,EAAS,SACTC,EAAQ,QACRC,EAAK,KACLC,EAAQ,S,+EC6BOC,IApCI,WA8Bf,MAAO,CACHC,OA7BQ,uCAAG,WAAOC,GAAP,uBAAAzC,EAAA,sEAEH0C,EAAaC,IAAQC,MACnBC,EAASC,cACXC,EAAUL,EAAWM,MAAX,iBAA2BH,EAA3B,SAJP,SAKgBE,EAAQE,UAAUR,EAAK,UALvC,cAKDS,EALC,gBAMmBA,EAASN,IAAIO,iBANhC,cAMDC,EANC,yBAOA,CACHA,cACAP,WATG,uGAAH,sDA8BRQ,aAbiB,SAACR,GAClB,IAEI,OADUF,IAAQC,MAAMI,MAAd,iBAA8BH,EAA9B,SACCpC,SAEf,MAAM6C,GACF,MAAMA,O,iCChClB,6CAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAIxD,KAAO2D,EAAcN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQ3D,KAAQuD,EAAOvD,GAAO2D,EAAO3D,IAAY,OAAOuD,IAA2BQ,MAAMC,KAAMP,WAEhT,SAASQ,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkE3D,EAAKwD,EAAnED,EAEzF,SAAuCI,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2D3D,EAAKwD,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKT,GAAqB,IAAKH,EAAI,EAAGA,EAAIW,EAAWT,OAAQF,IAAOxD,EAAMmE,EAAWX,GAAQU,EAASG,QAAQrE,IAAQ,IAAauD,EAAOvD,GAAO2D,EAAO3D,IAAQ,OAAOuD,EAFxMe,CAA8BX,EAAQO,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBZ,GAAS,IAAKH,EAAI,EAAGA,EAAIgB,EAAiBd,OAAQF,IAAOxD,EAAMwE,EAAiBhB,GAAQU,EAASG,QAAQrE,IAAQ,GAAkBqD,OAAOO,UAAUa,qBAAqBX,KAAKH,EAAQ3D,KAAgBuD,EAAOvD,GAAO2D,EAAO3D,IAAU,OAAOuD,EAMne,IAAImB,EAAqBC,sBAAW,SAAUC,EAAMnC,GAClD,IAAIoC,EAAQD,EAAKC,MACb9G,EAAO6G,EAAK7G,KACZ+G,EAAOb,EAAyBW,EAAM,CAAC,QAAS,SAEpD,OAAoBG,IAAMC,cAAc,MAAO5B,EAAS,CACtDX,IAAKA,EACLwC,MAAO,6BACPC,QAAS,YACTC,MAAOpH,EACPqH,OAAQrH,EACRsH,KAAMR,GACLC,GAAoBC,IAAMC,cAAc,OAAQ,CACjDM,EAAG,oKACYP,IAAMC,cAAc,OAAQ,CAC3CO,SAAU,UACVD,EAAG,mPAGPZ,EAAMc,UAAY,CAChBX,MAAOY,IAAUC,OACjB3H,KAAM0H,IAAUE,UAAU,CAACF,IAAUC,OAAQD,IAAUG,UAEzDlB,EAAMmB,aAAe,CACnBhB,MAAO,eACP9G,KAAM,OAEO2G,O,gOCvBToB,EAAgC,CAClCC,MAAO,GACPC,QAAS,GACTC,OAAQ,CAAC,CAAEC,KAAM,GAAIC,YAAa,GAAIC,QAAS,MAG7CC,EAASC,MAAaC,MAAM,CAC9BR,MAAOO,MAAaE,SAAS,uBAC7BP,OAAQK,MAAYG,GAChBH,MAAaC,MAAM,CACfL,KAAMI,MAAaE,SAAS,oBAC5BL,YAAaG,MAAaE,SAAS,2BACnCJ,QAASE,MAAaE,SAAS,4BA0DrCE,EAAwC,SAAC,GAAyB,IAAvB9F,EAAsB,EAAtBA,KAAMpC,EAAgB,EAAhBA,UAWnD,OACI,cAAC,IAAD,CAAQmI,cAAeb,EAAec,SAAU,SAACC,EAAD,UAVrC,SAACA,EAAwBC,GACpC,IACIlG,EAAKiG,EAAQC,GAEjB,MAAO3D,GACH,MAAMA,GAKiE4D,CAAOF,EAAlC,EAAWC,YACvDE,iBAAkBX,EADtB,SAGQ,gBAAGY,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,aAAcC,EAA/B,EAA+BA,WAAYN,EAA3C,EAA2CA,OAAQO,EAAnD,EAAmDA,QAASC,EAA5D,EAA4DA,OAA5D,OACI,eAAC,IAAD,CAAMT,SAAUK,EAAhB,UACI,eAAC,IAAKK,MAAN,WACI,cAAC,IAAKC,MAAN,sBACA,cAAC,IAAKC,QAAN,CAAcC,WAAW,OAAOC,aAAa,MAAMC,YAAY,gCAAgCzB,KAAK,QAChG0B,SAAUV,EAAcW,OAAQV,EAAYW,MAAOjB,EAAOd,MAAOhI,KAAK,KACtEgK,UAAWX,EAAQrB,SAAWsB,EAAOtB,QAEzC,cAAC,IAAKyB,QAAQQ,SAAd,CAAuBvL,KAAK,UAA5B,SACK4K,EAAOtB,WAIhB,cAAC,IAAD,CAAYG,KAAK,SAAjB,SAEQ,gBAAG+B,EAAH,EAAGA,OAAQC,EAAX,EAAWA,KAAX,OACI,eAAC,IAAMC,SAAP,WACI,sBAAKnL,UAAU,6DAAf,UACI,oBAAIA,UAAU,MAAd,2BACA,gCACI,cAACoL,EAAD,CAAcF,KAAMA,IACpB,cAAC,IAAD,CAAQnK,KAAK,KAAKd,QAAQ,UAAUR,KAAK,SAASqC,SAAUN,EAA5D,SACMA,EACE,eAAC,IAAM2J,SAAP,WACI,cAAC,IAAD,CACIpJ,GAAG,OACHC,UAAU,SACVjB,KAAK,KACLkB,KAAK,SACLC,cAAY,SAEhB,sBAAMlC,UAAU,OAAhB,2BATM,mBAgBzB6J,EAAOZ,OAAOvC,OAAS,GAAKmD,EAAOZ,OAAOoC,KAAI,SAACC,EAAkB9E,GAAnB,OAC3C,sBAAKxG,UAAU,yCAAf,UACI,sBAAKA,UAAU,iCAAf,UACI,qBAAIA,UAAU,MAAd,mBAA2BwG,EAAI,KAC/B,cAAC+E,EAAD,CAAcN,OAAQA,EAAQO,MAAOhF,OAEzC,eAAC,IAAKiF,IAAN,WACI,eAAC,IAAKnB,MAAN,CAAYvI,GAAI2J,IAAhB,UACI,cAAC,IAAKnB,MAAN,mBACA,cAAC,IAAKC,QAAN,CAAcE,aAAa,MAAM3J,KAAK,KAAK4J,YAAW,uBAAenE,EAAI,GAAK0C,KAAI,iBAAY1C,EAAZ,SAC9EoE,SAAUV,EAAcW,OAAQV,EAAYW,MAAOjB,EAAOZ,OAAOzC,GAAG0C,KACpE6B,UAAWX,EAAQnB,UAAYoB,EAAOpB,SAE1C,cAAC,IAAKuB,QAAQQ,SAAd,CAAuBvL,KAAK,UAA5B,iCAKJ,eAAC,IAAK6K,MAAN,CAAYvI,GAAI2J,IAAhB,UACI,cAAC,IAAKnB,MAAN,iCACA,cAAC,IAAKC,QAAN,CAAcE,aAAa,MAAM3J,KAAK,KAAK4J,YAAY,cAAczB,KAAI,iBAAY1C,EAAZ,gBACrEoE,SAAUV,EAAcW,OAAQV,EAAYW,MAAOjB,EAAOZ,OAAOzC,GAAG2C,YACpE4B,UAAWX,EAAQnB,UAAYoB,EAAOpB,SAE1C,cAAC,IAAKuB,QAAQQ,SAAd,CAAuBvL,KAAK,UAA5B,2CAMR,eAAC,IAAK6K,MAAN,WACI,cAAC,IAAKC,MAAN,sBACA,cAAC,IAAKC,QAAN,CAAcE,aAAa,MAAM3J,KAAK,KAAKgB,GAAG,WAAW4I,YAAY,wBAAwBzB,KAAI,iBAAY1C,EAAZ,YAC7FoE,SAAUV,EAAcW,OAAQV,EAAYW,MAAOjB,EAAOZ,OAAOzC,GAAG4C,QACpE2B,UAAWX,EAAQnB,UAAYoB,EAAOpB,SAC1C,cAAC,IAAKuB,QAAQQ,SAAd,CAAuBvL,KAAK,UAA5B,sCAlCqD+G,EAAI,OAASA,mBAyDhH+E,EAA4C,SAAC,GAAuB,IAArBN,EAAoB,EAApBA,OAAQO,EAAY,EAAZA,MAAY,EACrBlK,YAAiB,CAC7D9B,QAAS,sEACTmC,eAGJ,WACIgK,QAAQC,IAAI,mBACZzJ,IACA1B,YAAW,WACPwK,EAAOO,KACR,MAVC5J,EAD6D,EAC7DA,cAAeO,EAD8C,EAC9CA,qBAavB,OACI,eAAC,IAAMgJ,SAAP,WACI,cAAC,IAAD,CAAQpK,KAAK,KAAKd,QAAQ,SAAS4B,QAASM,EACxCnC,UAAU,0DACVE,MAAO,CAAEiI,MAAO,OAAQC,OAAQ,QAFpC,SAGI,cAAC,IAAD,MAEJ,cAACxG,EAAD,QAQNwJ,EAA2C,SAAC,GAAc,IAAZF,EAAW,EAAXA,KAAW,EAC7B9K,cAAtBM,EADmD,EACnDA,SAAUH,EADyC,EACzCA,QAEZsL,EAAS,uCAAG,sBAAAhJ,EAAA,sDACdqI,EAAK,CAAEhC,KAAM,GAAIC,YAAa,GAAIC,QAAS,KAC3C7I,EAAQ,kBAAmB,0CAFb,2CAAH,qDAIf,OACI,eAAC,IAAM4K,SAAP,WACI,cAAC,IAAD,CAAQpK,KAAK,KAAKd,QAAQ,UAAUD,UAAU,OAC1C6B,QAASgK,EADb,uBAIA,cAACnL,EAAD,QAQNoL,EAAoD,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cAAoB,EACvDhN,mBAAc,MADyC,mBACtEiN,EADsE,KACjEC,EADiE,KAGvEC,EAAW,uCAAG,WAAOC,GAAP,eAAAtJ,EAAA,+EAESuJ,EAAWD,GAFpB,OAENE,EAFM,OAGZN,EAAcM,GACdJ,EAAOI,GAJK,oHAAH,sDAWXD,EAAa,SAACD,GAAD,OACnB,IAAIG,SAAQ,SAACC,GACTC,IAAQC,iBACJN,EACA,IACA,IACA,OACA,GACA,GACA,SAACO,GACGH,EAAQG,KAEZ,cAIR,OACI,eAAC,IAAMvB,SAAP,YACMa,GAAO,sBAAKhM,UAAU,gGAAf,UACL,2EACA,cAAC2M,EAAD,CAAYT,YAAa,SAACU,GAAD,OAAOV,EAAYU,SAG/CZ,GAAO,qBAAKa,IAAKb,EAAKc,IAAI,eAAe5M,MAAO,CAAEiI,MAAO,OAAQC,OAAQ,OAAQ2E,UAAW,eASnGJ,EAAwC,SAAC,GAAqB,IAAnBT,EAAkB,EAAlBA,YACvCtG,EAAUoH,iBAAgC,MAUhD,OACI,eAAC,IAAM7B,SAAP,WACI,cAAC,IAAD,CAAQlL,QAAQ,UAAUc,KAAK,KAAKc,QAVzB,WAAO,IAAD,EACrB,UAAA+D,EAAQqH,eAAR,SAAiBC,SASb,8BAIA,uBAAOC,QAAM,EAAC1N,KAAK,OAAOgG,IAAKG,EAASgF,SAV3B,SAACwC,GAClBlB,EAAYkB,EAAE7G,OAAO8G,MAAM,KASyCC,OAAO,gBAKpEC,UA1Ra,WAAO,IAK3BC,EAJI3J,EAAclB,YAAS8K,IAAY5I,QAAnChB,UACAwB,EAAWD,cAAXC,OAFsB,EAGItG,oBAAkB,GAHtB,mBAGvByC,EAHuB,KAGZkM,EAHY,KAOxB9J,EAAI,uCAAG,WAAOiG,EAAwBC,GAA/B,qBAAAjH,EAAA,kEAEA2K,EAFA,wDAGLE,GAAa,GACPC,EAASH,EAAWI,QAAQ,0BAA2B,IAJxD,SAKiCvI,EAAOsI,GALxC,uBAKG1H,EALH,EAKGA,YAAaP,EALhB,EAKgBA,OALhB,UAMa7B,EAAU,2BAAKgG,GAAN,IAAc5G,GAAIyC,EAAQsD,QAAS/C,IAAeP,GANxE,eAOGjD,SACJqH,IACA4D,GAAa,IAGb/B,QAAQC,IAAI,UAZX,wDAgBL8B,GAAa,GAhBR,+DAAH,wDA8BV,OACI,eAAC,IAAMvC,SAAP,WACI,qBAAKnL,UAAU,+CAA+CE,MAAO,CAAEkI,OAAQ,SAA/E,SACI,cAAC0D,EAAD,CAAkBC,cAZR,SAACC,GACnB,IACIwB,EAAaxB,EAEjB,MAAO7F,GACH,MAAMA,QAUN,cAACuD,EAAD,CAAY9F,KAAMA,EAAMpC,UAAWA,S,qBCxE/C,WAAM,aAAa,IAAI4L,EAAE,CAAC9E,EAAE,SAACuF,EAAEhL,GAAK,IAAI,IAAIiL,KAAKjL,EAAEuK,EAAEW,EAAElL,EAAEiL,KAAKV,EAAEW,EAAEF,EAAEC,IAAIzH,OAAO2H,eAAeH,EAAEC,EAAE,CAACG,YAAW,EAAGxK,IAAIZ,EAAEiL,MAAMC,EAAE,SAACX,EAAES,GAAH,OAAOxH,OAAOO,UAAUC,eAAeC,KAAKsG,EAAES,IAAGC,EAAE,SAAAV,GAAI,oBAAoBc,QAAQA,OAAOC,aAAa9H,OAAO2H,eAAeZ,EAAEc,OAAOC,YAAY,CAACrD,MAAM,WAAWzE,OAAO2H,eAAeZ,EAAE,aAAa,CAACtC,OAAM,MAAO+C,EAAE,GAAyKT,EAAEU,EAAED,GAAGT,EAAE9E,EAAEuF,EAAE,CAACO,QAAQ,kBAAIC,KAAI,IAAIP,EAAE,WAAW,SAASV,KAAK,SAASA,EAAES,GAAG,KAAKT,aAAaS,GAAG,MAAM,IAAIS,UAAU,qCAAvD,CAA6FtH,KAAKoG,GAAG,IAAMU,EAAE,OAAWA,EAAE,CAAC,CAAC9K,IAAI,oBAAoB8H,MAAM,SAASsC,EAAES,EAAEhL,EAAEiL,EAAEO,EAAEN,GAAG,OAAOlL,EAAEiL,IAAIV,EAAEmB,KAAKC,MAAMpB,EAAEU,EAAEjL,GAAGA,EAAEiL,GAAGV,EAAES,IAAIhL,EAAE0L,KAAKC,MAAM3L,EAAEgL,EAAET,GAAGA,EAAES,GAAGQ,GAAGxL,EAAEwL,IAAIjB,EAAEmB,KAAKC,MAAMpB,EAAEiB,EAAExL,GAAGA,EAAEwL,GAAGN,GAAGX,EAAEW,IAAIlL,EAAE0L,KAAKC,MAAM3L,EAAEkL,EAAEX,GAAGA,EAAEW,GAAG,CAAC3F,OAAOgF,EAAEjF,MAAMtF,KAAK,CAACG,IAAI,uBAAuB8H,MAAM,SAASsC,EAAES,EAAEhL,EAAEiL,EAAEO,GAAG,IAAIN,EAAEtH,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,OAAOD,EAAEC,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,IAAIgI,EAAEhI,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,EAAEiI,EAAElI,EAAE,IAAImI,EAAE/O,SAASoI,cAAc,UAAU4G,EAAExB,EAAEjF,MAAMG,EAAE8E,EAAEhF,OAAOyG,EAAE7H,KAAK8H,kBAAkBxG,EAAEzF,EAAE+L,EAAEf,EAAEC,EAAEO,IAAII,GAAG,KAAKA,GAAG,MAAMA,GAAGE,EAAExG,MAAM0G,EAAE1G,MAAMwG,EAAEvG,OAAOyG,EAAEzG,SAASuG,EAAExG,MAAM0G,EAAEzG,OAAOuG,EAAEvG,OAAOyG,EAAE1G,OAAOyG,EAAEC,EAAE1G,MAAMG,EAAEuG,EAAEzG,OAAO,IAAI2G,EAAEJ,EAAEK,WAAW,MAAM,OAAOP,IAAIM,EAAEE,OAAOR,EAAEF,KAAKW,GAAG,KAAK,KAAKT,EAAEM,EAAEI,UAAU,GAAGR,EAAExG,OAAO,MAAMsG,EAAEM,EAAEI,WAAWR,EAAExG,OAAOwG,EAAEvG,QAAQ,MAAMqG,EAAEM,EAAEI,WAAWR,EAAEvG,OAAO,GAAG,IAAIqG,GAAG,MAAMA,GAAGM,EAAEI,UAAU,EAAE,IAAIJ,EAAEK,UAAUhC,EAAE,EAAE,EAAEwB,EAAEtG,GAAGqG,EAAEU,UAAU,SAASC,OAAOvB,GAAGW,KAAK,CAAC1L,IAAI,kBAAkB8H,MAAM,SAASsC,EAAES,GAAGA,EAAEA,GAAG,aAAa,IAAI,IAAIhL,EAAE0M,KAAKnC,EAAEoC,WAAW5B,QAAQ,2CAA2C,KAAKE,EAAE,GAAGO,EAAE,EAAEA,EAAExL,EAAE6D,OAAO2H,GAAG,IAAI,CAAC,IAAI,IAAIN,EAAElL,EAAE4M,MAAMpB,EAAEA,EAAE,KAAK7H,EAAE,IAAIkJ,MAAM3B,EAAErH,QAAQ+H,EAAE,EAAEA,EAAEV,EAAErH,OAAO+H,IAAIjI,EAAEiI,GAAGV,EAAE4B,WAAWlB,GAAG,IAAIC,EAAE,IAAIkB,WAAWpJ,GAAGsH,EAAE5C,KAAKwD,GAAG,OAAOZ,IAAI,CAAC9K,IAAI,YAAY8H,MAAM,SAASsC,EAAES,GAAG,IAAIhL,EAAEmE,KAAK6I,gBAAgBzC,EAAES,GAAG,OAAO,IAAIiC,KAAKjN,EAAE,CAACpD,KAAKoO,EAAEkC,aAAa,IAAIC,SAAS,CAAChN,IAAI,YAAY8H,MAAM,SAASsC,EAAES,EAAEhL,GAAG,IAAIiL,EAAE9G,KAAK6I,gBAAgBzC,EAAEvK,GAAG,OAAO,IAAIoN,KAAKnC,EAAED,EAAE,CAACpO,KAAKoD,EAAEkN,aAAa,IAAIC,SAAS,CAAChN,IAAI,qBAAqB8H,MAAM,SAAS+C,EAAEhL,EAAEiL,EAAEO,EAAEN,EAAEvH,EAAEiI,GAAG,IAAIC,EAAEjI,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,SAASkI,EAAElI,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,KAAKmI,EAAEnI,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,KAAK6B,EAAE,IAAI4H,WAAW,IAAIrC,EAAE,MAAMsC,MAAM,mBAAmB,GAAGtC,EAAEpO,OAAOoO,EAAEpO,KAAK2Q,SAAS,SAAS,MAAMD,MAAM,sBAAsB7H,EAAE+H,cAAcxC,GAAGvF,EAAEgI,OAAO,WAAW,IAAIzB,EAAE,IAAI0B,MAAM1B,EAAEhC,IAAIvE,EAAEkI,OAAO3B,EAAEyB,OAAO,WAAW,IAAIhI,EAAE8E,EAAEqD,qBAAqB5B,EAAEhM,EAAEiL,EAAEa,EAAEC,EAAEP,EAAEN,EAAEvH,GAAGuI,EAAE,SAASO,OAAOjB,GAAG,OAAOK,GAAG,IAAI,OAAO,IAAI9B,EAAEQ,EAAEsD,UAAUpI,EAAEyG,GAAGN,EAAE7B,GAAG,MAAM,IAAI,SAAS6B,EAAEnG,GAAG,MAAM,IAAI,OAAO,IAAIqI,EAAE9C,EAAE3E,KAAKsG,WAAW5B,QAAQ,sBAAsB,IAAI0B,OAAOjB,EAAEmB,YAAYoB,EAAExD,EAAEyD,UAAUvI,EAAEqI,EAAE5B,GAAGN,EAAEmC,GAAG,MAAM,QAAQnC,EAAEnG,MAAMA,EAAEwI,QAAQ,SAAS1D,GAAG,MAAM+C,MAAM/C,SAAnjF,SAAWA,EAAES,GAAG,IAAI,IAAIhL,EAAE,EAAEA,EAAEgL,EAAEnH,OAAO7D,IAAI,CAAC,IAAIiL,EAAED,EAAEhL,GAAGiL,EAAEG,WAAWH,EAAEG,aAAY,EAAGH,EAAEiD,cAAa,EAAG,UAAUjD,IAAIA,EAAEkD,UAAS,GAAI3K,OAAO2H,eAAeZ,EAAEU,EAAE9K,IAAI8K,IAAq7EjL,CAA9vEuK,EAAkwEU,GAAGV,EAAp5E,GAA+5EiB,EAAE,CAAC5B,iBAAiB,SAASW,EAAES,EAAEhL,EAAEwL,EAAEN,EAAEvH,EAAEiI,EAAEC,EAAEC,EAAEC,GAAG,OAAOd,EAAEmD,mBAAmB7D,EAAES,EAAEhL,EAAEwL,EAAEN,EAAEvH,EAAEiI,EAAEC,EAAEC,EAAEC,KAAKsC,EAAOC,QAAQtD,EAAxjG","file":"static/js/21.b28c861f.chunk.js","sourcesContent":["import { useState } from \"react\";\r\n\r\n\r\nexport const useToggleState = () =>{\r\n\r\n    const [show, setShow] = useState<boolean>(false);\r\n\r\n    const handleToggle = () => {\r\n        setShow(prev => !prev);\r\n    }\r\n\r\n    const handleShow = () =>{\r\n        setShow(true);\r\n    }\r\n\r\n    const handleHide = () => {\r\n        setShow(false);\r\n    }\r\n\r\n    return {\r\n        show,\r\n        handleToggle,\r\n        handleShow,\r\n        handleHide\r\n    }\r\n}\r\n","import React, { useState, useCallback } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\ntype snackbarType = \"info\" | \"danger\" | \"warning\" | \"success\";\r\n\r\ninterface SnackbarState {\r\n    title: string;\r\n    isShown: boolean;\r\n    message: string;\r\n    type?: snackbarType\r\n}\r\n\r\nconst SnackbarContainer: React.FC<SnackbarState> = ({ isShown, message, type, title }) => {\r\n    const Portal: any = document.getElementById('portal');\r\n\r\n    return (\r\n        ReactDOM.createPortal(\r\n                <Alert className=\"m-3 fixed-top\" show={isShown} variant={type} style={{zIndex: 9999999999}}>\r\n                    <h5>{title}</h5>\r\n                    <p className=\"m-0\">\r\n                        {message}\r\n                    </p>\r\n                </Alert>,\r\n            Portal\r\n        )\r\n    )\r\n}\r\n\r\nexport const useSnackbar = () => {\r\n    const [snackbar, setSnackbar] = useState<SnackbarState>({title: '', isShown: false, message: '', type: 'success' });\r\n\r\n    const showMsg = (title: string, msg: string, type?: snackbarType) => {\r\n        setSnackbar({ isShown: true, message: msg, title, type: type || 'success' });\r\n\r\n        setTimeout(()=>{\r\n            setSnackbar({...snackbar, isShown: false });\r\n        }, 3000);\r\n    }\r\n\r\n    const Snackbar = useCallback(\r\n        () => (\r\n            <SnackbarContainer\r\n                message={snackbar.message}\r\n                isShown={snackbar.isShown}\r\n                type={snackbar.type}\r\n                title = {snackbar.title}\r\n            />\r\n        ),\r\n        [snackbar]\r\n    )\r\n\r\n    return {\r\n        showMsg,\r\n        Snackbar\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\ninterface DialogProps{\r\n    show: boolean;\r\n    centered: boolean;\r\n    size?: \"sm\" | \"lg\" | \"xl\" | undefined;\r\n    headerText?: string;\r\n    handleClose: () => void;\r\n}\r\n\r\nexport const Dialog: React.FC<DialogProps> = ({show, handleClose, centered, size, children, headerText}) => {\r\n\r\n    return (\r\n        <Modal \r\n        show={show} \r\n        onHide={handleClose}\r\n        centered={centered}\r\n        size={size}\r\n        >\r\n\r\n       { headerText && <Modal.Header closeButton>\r\n          <h6 className=\"m-0 align-self-center\">{headerText}</h6>\r\n        </Modal.Header>}\r\n\r\n        <Modal.Body>\r\n            {children}\r\n        </Modal.Body>\r\n\r\n      </Modal>\r\n    )\r\n}","import { useCallback, useEffect, useState } from 'react';\r\nimport { Dialog } from '../Dialog';\r\nimport { Button, Spinner } from 'react-bootstrap';\r\nimport { useToggleState } from '../useToggleState';\r\n\r\ninterface ConfirmDialogProps {\r\n    message: string;\r\n    onConfirmClick: () => void;\r\n}\r\n\r\nexport const useConfirmDialog = (obj: ConfirmDialogProps) => {\r\n    const { handleToggle, show, handleHide } = useToggleState();\r\n    const [isLoading, setIsloading] = useState<boolean>(false);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            setIsloading(false);\r\n        }\r\n    }, []);\r\n\r\n    const toggleConfirmMessage = () => {\r\n        handleToggle();\r\n    };\r\n\r\n    const { message, onConfirmClick } = obj;\r\n\r\n    const ConfirmDialog = useCallback(\r\n        () => (\r\n            <Dialog show={show} centered={true} size=\"sm\" handleClose={handleHide}>\r\n                <h6>Confirm</h6>\r\n                <p>\r\n                    {message}\r\n                </p>\r\n                <div className=\"text-right\">\r\n                    <Button className=\"mr-2\" variant=\"secondary\" onClick={handleHide} size=\"sm\">Close</Button>\r\n                    <Button variant=\"primary\" size=\"sm\" onClick={onConfirmClick} disabled={isLoading}>\r\n                        {!isLoading ? 'Confirm' : (\r\n                            <>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                />\r\n                                <span className=\"ml-2\">Loading...</span>\r\n                            </>\r\n                        )}\r\n                    </Button>\r\n                </div>\r\n            </Dialog>\r\n        ),\r\n        [show, message, onConfirmClick, handleHide, isLoading]\r\n    )\r\n\r\n    return {\r\n        ConfirmDialog,\r\n        toggleConfirmMessage,\r\n        setIsloading\r\n    }\r\n}\r\n","// @ts-ignore\r\nimport Localbase from 'localbase';\r\n\r\nlet db = new Localbase('remindMe');\r\n\r\ndb.config.debug = false\r\n\r\nexport default db;","import { CustomResponse } from \"../model/app.model\";\r\nimport db from './db';\r\n\r\nconst toJson = (success: boolean, msg: string, data?: any): CustomResponse => {\r\n    return {\r\n        message: msg,\r\n        success,\r\n        data\r\n    };\r\n};\r\n\r\nconst useCache = (collection: string) => {\r\n\r\n    async function save (obj: any): Promise<CustomResponse> {\r\n        try{\r\n            const saved = await db.collection(collection).add(obj);\r\n            return toJson(true, 'New record has been added', saved);\r\n        }\r\n        catch(err){\r\n            return toJson(false, 'Failed to create');\r\n        }\r\n    };\r\n\r\n    async function saveByKey (obj: any, key: string): Promise<CustomResponse> {\r\n        try{\r\n            const saved = await db.collection(collection).add(obj, key);\r\n            return toJson(true, 'New record has been added', saved);\r\n        }\r\n        catch(err){\r\n            return toJson(false, 'Failed to create');\r\n        }\r\n    };\r\n\r\n    async function findOneAndUpdate (obj: any, id: string): Promise<CustomResponse> {\r\n        try{\r\n            const updated = await db.collection(collection).doc({id}).update(obj);\r\n            return toJson(true, 'New record has been updated', updated);\r\n        }\r\n        catch(err){\r\n            return toJson(false, 'Failed to update');\r\n        }\r\n    };\r\n\r\n    async function setById (obj: any, id: string): Promise<CustomResponse> {\r\n        try{\r\n            const doc = await db.collection(collection).doc({id}).set(obj);\r\n            return toJson(true, 'New record has been overwrited', doc);\r\n        }\r\n        catch(err){\r\n            return toJson(false, 'Failed to overwrite');\r\n        }\r\n    };\r\n\r\n    async function findOneAndDelete (id: string): Promise<CustomResponse> {\r\n        try{\r\n            const removed = await db.collection(collection).doc({id}).delete();\r\n            return toJson(true, 'New record has been removed', removed);\r\n        }\r\n        catch(err){\r\n            return toJson(false, 'Failed to remove');\r\n        }\r\n    };\r\n\r\n    async function drop (): Promise<CustomResponse> {\r\n        try{\r\n            await db.collection(collection).delete();\r\n            return toJson(true, 'The whole collection has been removed');\r\n        }\r\n        catch(err){\r\n            return toJson(false, 'Failed to remove');\r\n        }\r\n    };\r\n\r\n    async function init (data: any[]): Promise<CustomResponse> {\r\n        try{\r\n            const datasource = await db.collection(collection).set(data);\r\n            return toJson(true, 'Init the whole collection', datasource);\r\n        }\r\n        catch(err){\r\n            return toJson(false, 'Failed to remove');\r\n        }\r\n    };\r\n\r\n    async function find (): Promise<CustomResponse> {\r\n        try{\r\n            const list = await db.collection(collection).get();\r\n            return toJson(true, 'list of data', list);\r\n        }\r\n        catch(err){\r\n            return toJson(false, 'Failed to get');\r\n        }\r\n    };\r\n\r\n    async function findOne (id: string): Promise<CustomResponse> {\r\n        try{\r\n            const found = await db.collection(collection).doc(id).get();\r\n            return toJson(true, 'find a document', found);\r\n        }\r\n        catch(err){\r\n            return toJson(false, 'Failed to get');\r\n        }\r\n    };\r\n\r\n\r\n    return {\r\n        save,\r\n        saveByKey,\r\n        findOneAndUpdate,\r\n        setById,\r\n        findOneAndDelete,\r\n        drop,\r\n        init,\r\n        find,\r\n        findOne\r\n    }\r\n}\r\n\r\nexport default useCache;","export const USERS = \"USERS\",\r\nVERBS = \"VERBS\",\r\nADJECTIVES = \"ADJECTIVES\",\r\nADVERBS = \"ADVERBS\",\r\nNOUNS = \"NOUNS\",\r\nPHRASALVERBS = \"PHRASALVERBS\",\r\nLINKERS = \"LINKERS\",\r\nTOPICS = \"TOPICS\",\r\nTHINGS = \"THINGS\",\r\nNOTES = \"NOTES\",\r\nIDIOMS = \"IDIOMS\",\r\nTENSES = \"TENSES\",\r\nGAMES = \"GAMES\",\r\nQA = \"QA\",\r\nTODOS = \"TODOS\";","import {storage} from '../firebase';\r\nimport { v4 } from 'uuid';\r\n\r\ninterface FileProps{\r\n    downloadURL: string;\r\n    fileId: string;\r\n}\r\nconst useStorage = () => {\r\n\r\n    const upload = async (img: string): Promise<FileProps> => {\r\n       try{ \r\n            var storageRef = storage.ref();\r\n            const fileId = v4();\r\n            var fileRef = storageRef.child(`images/${fileId}.jpg`);\r\n            const snapshot = await fileRef.putString(img, 'base64');\r\n            const downloadURL = await snapshot.ref.getDownloadURL();\r\n            return {\r\n                downloadURL,\r\n                fileId\r\n            };\r\n       }\r\n       catch(err){\r\n           throw err;\r\n       }\r\n    };\r\n\r\n    const removeUpload = (fileId: string): Promise<any> => {\r\n        try{\r\n            var ref = storage.ref().child(`images/${fileId}.jpg`);\r\n            return ref.delete();\r\n        }\r\n        catch(err){\r\n            throw err;\r\n        }\r\n    }\r\n\r\n\r\n    return {\r\n        upload,\r\n        removeUpload\r\n    }\r\n};\r\n\r\nexport default useStorage;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Trash = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n      size = _ref.size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"\n  }));\n});\nTrash.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nTrash.defaultProps = {\n  color: 'currentColor',\n  size: '1em'\n};\nexport default Trash;","import React, { useRef, useState } from 'react';\r\nimport { Button, Col, Form, Spinner } from 'react-bootstrap';\r\nimport { Formik, FieldArray } from 'formik';\r\nimport { PicThingsModel, ThingModel } from '../../../../model/app.model';\r\nimport { Trash } from 'react-bootstrap-icons';\r\nimport * as yup from 'yup';\r\nimport { useConfirmDialog } from '../../../../components/ConfirmDialog';\r\nimport { useSnackbar } from '../../../../components/Snackbar';\r\nimport { Collections, useCache } from '../../../../cache';\r\nimport useStorage from '../../../../firebase/useStorage';\r\nimport Resizer from \"react-image-file-resizer\";\r\n\r\nconst INITIAL_VALUE: PicThingsModel = {\r\n    label: '',\r\n    picture: '',\r\n    things: [{ name: '', translation: '', utility: '' }]\r\n}\r\n\r\nconst schema = yup.object().shape({\r\n    label: yup.string().required('Subject is required'),\r\n    things: yup.array().of(\r\n        yup.object().shape({\r\n            name: yup.string().required('Name is required'),\r\n            translation: yup.string().required('Translation is required'),\r\n            utility: yup.string().required('Utility is required'),\r\n        })\r\n    )\r\n})\r\n\r\nconst NewThings: React.FC = () => {\r\n    const { saveByKey } = useCache(Collections.THINGS);\r\n    const { upload } = useStorage();\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n    let currentPic: string;\r\n\r\n    const save = async (values: PicThingsModel, resetForm: () => void) => {\r\n        try {\r\n            if (!currentPic) return;\r\n            setIsLoading(true);\r\n            const data64 = currentPic.replace('data:image/jpeg;base64,', '');\r\n            const { downloadURL, fileId } = await upload(data64);\r\n            const res = await saveByKey({ ...values, id: fileId, picture: downloadURL }, fileId);\r\n            if (res.success) {\r\n                resetForm();\r\n                setIsLoading(false);\r\n            }\r\n            else {\r\n                console.log(\"failed\")\r\n            }\r\n        }\r\n        catch (err) {\r\n            setIsLoading(false);\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    const getCurrentPic = (pic: any) => {\r\n        try {\r\n            currentPic = pic;\r\n        }\r\n        catch (err) {\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"bg-light border rounded overflow-hidden mb-3\" style={{ height: '300px' }}>\r\n                <PictureComponent getCurrentPic={getCurrentPic} />\r\n            </div>\r\n\r\n            <ThingsForm save={save} isLoading={isLoading} />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\ninterface ThingsFormProps {\r\n    save: (values: PicThingsModel, resetForm: () => void) => void;\r\n    isLoading: boolean;\r\n}\r\n\r\nconst ThingsForm: React.FC<ThingsFormProps> = ({ save, isLoading }) => {\r\n\r\n    const create = (values: PicThingsModel, resetForm: () => void) => {\r\n        try {\r\n            save(values, resetForm);\r\n        }\r\n        catch (err) {\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Formik initialValues={INITIAL_VALUE} onSubmit={(values, { resetForm }) => create(values, resetForm)}\r\n            validationSchema={schema}>\r\n            {\r\n                ({ handleSubmit, handleChange, handleBlur, values, touched, errors }) => (\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group>\r\n                            <Form.Label>Subject</Form.Label>\r\n                            <Form.Control spellCheck=\"true\" autoComplete=\"off\" placeholder=\"What's the subject of the pic\" name=\"label\"\r\n                                onChange={handleChange} onBlur={handleBlur} value={values.label} size=\"sm\"\r\n                                isInvalid={touched.label && !!errors.label} />\r\n\r\n                            <Form.Control.Feedback type=\"invalid\">\r\n                                {errors.label}\r\n                            </Form.Control.Feedback>\r\n                        </Form.Group>\r\n\r\n                        <FieldArray name=\"things\">\r\n                            {\r\n                                ({ remove, push }) => (\r\n                                    <React.Fragment>\r\n                                        <div className=\"d-flex flex-row justify-content-between align-items-center\">\r\n                                            <h6 className=\"m-0\">CREATE THINGS</h6>\r\n                                            <div>\r\n                                                <InsertRecord push={push} />\r\n                                                <Button size=\"sm\" variant=\"primary\" type=\"submit\" disabled={isLoading}>\r\n                                                    {!isLoading ? 'Save All' : (\r\n                                                        <React.Fragment>\r\n                                                            <Spinner\r\n                                                                as=\"span\"\r\n                                                                animation=\"border\"\r\n                                                                size=\"sm\"\r\n                                                                role=\"status\"\r\n                                                                aria-hidden=\"true\"\r\n                                                            />\r\n                                                            <span className=\"ml-2\">Loading...</span>\r\n                                                        </React.Fragment>\r\n                                                    )}\r\n                                                </Button>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {values.things.length > 0 && values.things.map((item: ThingModel, i: number) => (\r\n                                            <div className=\"bg-light border rounded pt-3 px-3 mt-3\" key={i + 'thin' + i}>\r\n                                                <div className=\"d-flex justify-content-between\">\r\n                                                    <h6 className=\"m-0\">Thing {i + 1}</h6>\r\n                                                    <RemoveRecord remove={remove} index={i} />\r\n                                                </div>\r\n                                                <Form.Row>\r\n                                                    <Form.Group as={Col}>\r\n                                                        <Form.Label>Name</Form.Label>\r\n                                                        <Form.Control autoComplete=\"off\" size=\"sm\" placeholder={`Things n° ${i + 1}`} name={`things.${i}.name`}\r\n                                                            onChange={handleChange} onBlur={handleBlur} value={values.things[i].name}\r\n                                                            isInvalid={touched.things && !!errors.things} />\r\n\r\n                                                        <Form.Control.Feedback type=\"invalid\">\r\n                                                            Name is required\r\n                                                         </Form.Control.Feedback>\r\n                                                    </Form.Group>\r\n\r\n                                                    <Form.Group as={Col}>\r\n                                                        <Form.Label>Arabic Translation</Form.Label>\r\n                                                        <Form.Control autoComplete=\"off\" size=\"sm\" placeholder=\"translation\" name={`things.${i}.translation`}\r\n                                                            onChange={handleChange} onBlur={handleBlur} value={values.things[i].translation}\r\n                                                            isInvalid={touched.things && !!errors.things} />\r\n\r\n                                                        <Form.Control.Feedback type=\"invalid\">\r\n                                                            Translation is required\r\n                                                 </Form.Control.Feedback>\r\n                                                    </Form.Group>\r\n                                                </Form.Row>\r\n\r\n                                                <Form.Group>\r\n                                                    <Form.Label>Utility</Form.Label>\r\n                                                    <Form.Control autoComplete=\"off\" size=\"sm\" as=\"textarea\" placeholder=\"Is That thing useful?\" name={`things.${i}.utility`}\r\n                                                        onChange={handleChange} onBlur={handleBlur} value={values.things[i].utility}\r\n                                                        isInvalid={touched.things && !!errors.things} />\r\n                                                    <Form.Control.Feedback type=\"invalid\">\r\n                                                        Utility is required\r\n                                                  </Form.Control.Feedback>\r\n                                                </Form.Group>\r\n                                            </div>\r\n                                        ))}\r\n                                    </React.Fragment>\r\n                                )\r\n                            }\r\n                        </FieldArray>\r\n\r\n\r\n                    </Form>\r\n                )\r\n            }\r\n        </Formik>\r\n    )\r\n}\r\n\r\ninterface RemoveRecordProps {\r\n    remove: (index: number) => void;\r\n    index: number;\r\n}\r\nconst RemoveRecord: React.FC<RemoveRecordProps> = ({ remove, index }) => {\r\n    const { ConfirmDialog, toggleConfirmMessage } = useConfirmDialog({\r\n        message: 'Are you sure you want to remove this record? This cannot be undone.',\r\n        onConfirmClick: onConfirm\r\n    });\r\n\r\n    function onConfirm() {\r\n        console.log(\"Confirm Clicked\");\r\n        toggleConfirmMessage();\r\n        setTimeout(() => {\r\n            remove(index);\r\n        }, 0)\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Button size=\"sm\" variant=\"danger\" onClick={toggleConfirmMessage}\r\n                className=\"rounded-circle d-flex align-items-center align-self-end\"\r\n                style={{ width: '32px', height: '32px' }}>\r\n                <Trash />\r\n            </Button>\r\n            <ConfirmDialog />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\ninterface InsertRecordProp {\r\n    push: (obj: any) => void;\r\n}\r\nconst InsertRecord: React.FC<InsertRecordProp> = ({ push }) => {\r\n    const { Snackbar, showMsg } = useSnackbar();\r\n\r\n    const newRecord = async () => {\r\n        push({ name: '', translation: '', utility: '' });\r\n        showMsg('Record Inserted', 'A new record has been created for you.');\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <Button size=\"sm\" variant=\"success\" className=\"mr-2\"\r\n                onClick={newRecord}>\r\n                New Thing\r\n            </Button>\r\n            <Snackbar />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\ninterface PictureComponentProps {\r\n    getCurrentPic: (pic: any) => void;\r\n}\r\nconst PictureComponent: React.FC<PictureComponentProps> = ({ getCurrentPic }) => {\r\n    const [pic, setPic] = useState<any>(null);\r\n\r\n    const onPicChange = async (file: File) => {\r\n        try {\r\n            const base64 = await resizeFile(file);\r\n            getCurrentPic(base64);\r\n            setPic(base64);\r\n        }\r\n        catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    const resizeFile = (file: File) =>\r\n    new Promise((resolve) => {\r\n        Resizer.imageFileResizer(\r\n            file,\r\n            300,\r\n            400,\r\n            \"JPEG\",\r\n            90,\r\n            0,\r\n            (uri) => {\r\n                resolve(uri);\r\n            },\r\n            \"base64\"\r\n        );\r\n    });\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {!pic && <div className=\"text-secondary d-flex flex-column text-center h-100 align-items-center justify-content-center\">\r\n                <p>Click on the button below to add a picture</p>\r\n                <FileUpload onPicChange={(f) => onPicChange(f)} />\r\n            </div>}\r\n\r\n            {pic && <img src={pic} alt=\"uploaded pic\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\ninterface FileUploadProps {\r\n    onPicChange: (f: File) => void;\r\n}\r\n\r\nconst FileUpload: React.FC<FileUploadProps> = ({ onPicChange }) => {\r\n    const fileRef = useRef<HTMLInputElement | null>(null);\r\n\r\n    const chooseFile = () => {\r\n        fileRef.current?.click();\r\n    }\r\n\r\n    const handleChange = (e: any) => {\r\n        onPicChange(e.target.files[0]);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Button variant=\"primary\" size=\"sm\" onClick={chooseFile}>\r\n                Choose a Picture\r\n            </Button>\r\n\r\n            <input hidden type=\"file\" ref={fileRef} onChange={handleChange} accept=\"image/*\" />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default NewThings;","(()=>{\"use strict\";var e={d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},t={};function a(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.r(t),e.d(t,{default:()=>n});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r;return t=e,r=[{key:\"changeHeightWidth\",value:function(e,t,a,r,n,o){return a>r&&(e=Math.round(e*r/a),a=r),e>t&&(a=Math.round(a*t/e),e=t),n&&a<n&&(e=Math.round(e*n/a),a=n),o&&e<o&&(a=Math.round(a*o/e),e=o),{height:e,width:a}}},{key:\"resizeAndRotateImage\",value:function(e,t,a,r,n){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"jpeg\",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=i/100,u=document.createElement(\"canvas\"),g=e.width,d=e.height,c=this.changeHeightWidth(d,a,g,t,r,n);!l||90!==l&&270!==l?(u.width=c.width,u.height=c.height):(u.width=c.height,u.height=c.width),g=c.width,d=c.height;var s=u.getContext(\"2d\");return l&&(s.rotate(l*Math.PI/180),90===l?s.translate(0,-u.width):180===l?s.translate(-u.width,-u.height):270===l?s.translate(-u.height,0):0!==l&&360!==l||s.translate(0,0)),s.drawImage(e,0,0,g,d),u.toDataURL(\"image/\".concat(o),h)}},{key:\"b64toByteArrays\",value:function(e,t){t=t||\"image/jpeg\";for(var a=atob(e.toString().replace(/^data:image\\/(png|jpeg|jpg|webp);base64,/,\"\")),r=[],n=0;n<a.length;n+=512){for(var o=a.slice(n,n+512),i=new Array(o.length),l=0;l<o.length;l++)i[l]=o.charCodeAt(l);var h=new Uint8Array(i);r.push(h)}return r}},{key:\"b64toBlob\",value:function(e,t){var a=this.b64toByteArrays(e,t);return new Blob(a,{type:t,lastModified:new Date})}},{key:\"b64toFile\",value:function(e,t,a){var r=this.b64toByteArrays(e,a);return new File(r,t,{type:a,lastModified:new Date})}},{key:\"createResizedImage\",value:function(t,a,r,n,o,i,l){var h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:\"base64\",u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,g=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=new FileReader;if(!t)throw Error(\"File Not Found!\");if(t.type&&!t.type.includes(\"image\"))throw Error(\"File Is NOT Image!\");d.readAsDataURL(t),d.onload=function(){var c=new Image;c.src=d.result,c.onload=function(){var d=e.resizeAndRotateImage(c,a,r,u,g,n,o,i),s=\"image/\".concat(n);switch(h){case\"blob\":var f=e.b64toBlob(d,s);l(f);break;case\"base64\":l(d);break;case\"file\":var b=t.name.toString().replace(/(png|jpeg|jpg|webp)/,\"\").concat(n.toString()),v=e.b64toFile(d,b,s);l(v);break;default:l(d)}}},d.onerror=function(e){throw Error(e)}}}],null&&a(t.prototype,null),r&&a(t,r),e}();const n={imageFileResizer:function(e,t,a,n,o,i,l,h,u,g){return r.createResizedImage(e,t,a,n,o,i,l,h,u,g)}};module.exports=t})();"],"sourceRoot":""}