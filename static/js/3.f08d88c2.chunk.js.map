{"version":3,"sources":["../node_modules/localbase/localbase/api/selectors/collection.js","../node_modules/localbase/localbase/api/selectors/doc.js","../node_modules/localbase/localbase/api/filters/orderBy.js","../node_modules/localbase/localbase/api/filters/limit.js","../node_modules/localbase/localbase/utils/isSubset.js","../node_modules/localbase/localbase/utils/logger.js","../node_modules/localbase/localbase/api-utils/reset.js","../node_modules/localbase/localbase/api-utils/selectionLevel.js","../node_modules/localbase/localbase/api-utils/showUserErrors.js","../node_modules/localbase/localbase/api/actions/get.js","../node_modules/localbase/localbase/api-utils/success.js","../node_modules/localbase/localbase/api-utils/error.js","../node_modules/localbase/localbase/api/actions/add.js","../node_modules/localbase/localbase/utils/updateObject.js","../node_modules/localbase/localbase/api/actions/update.js","../node_modules/localbase/localbase/api/actions/set.js","../node_modules/localbase/localbase/api/actions/delete.js","../node_modules/localbase/index.js","../node_modules/localbase/localbase/localbase.js","../node_modules/ordered-uuid/node_modules/uuid/lib/rng-browser.js","../node_modules/ordered-uuid/node_modules/uuid/lib/bytesToUuid.js","../node_modules/localforage/dist/localforage.js","../node_modules/ordered-uuid/index.js","../node_modules/buffer/index.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/ordered-uuid/node_modules/uuid/index.js","../node_modules/ordered-uuid/node_modules/uuid/v1.js","../node_modules/ordered-uuid/node_modules/uuid/v4.js","../node_modules/react-bootstrap/esm/Spinner.js"],"names":["collection","collectionName","this","userErrors","push","dbName","lf","localForage","createInstance","driver","INDEXEDDB","name","storeName","doc","docSelectionCriteria","orderBy","property","direction","orderByProperty","orderByDirection","limit","limitBy","Number","isInteger","isSubset","superObj","subObj","Object","keys","every","ele","logger","baseStyle","colors","log","error","warn","message","secondary","reset","selectionLevel","level","showUserErrors","i","length","call","get","options","getCollection","iterate","value","key","collectionItem","data","then","logMessage","sort","a","b","toString","localeCompare","reverse","splice","getDocument","document","getDocumentByCriteria","JSON","stringify","getDocumentByKey","getItem","catch","err","Array","hasOwnProperty","currentSelectionLevel","success","UUID","require","add","keyProvided","Promise","resolve","reject","generate","setItem","updateObject","obj","arguments","prop","val","update","docUpdates","updateDocumentByCriteria","docsToUpdate","newDocument","forEach","docToUpdate","index","updateDocumentByKey","set","setCollection","clear","console","docsWithoutKey","_key","setDocument","setDocumentByCriteria","docsToSet","docToSet","setDocumentByKey","deleteIt","deleteDatabase","indexedDB","deleteCollection","addToDeleteCollectionQueue","deleteCollectionQueue","queue","runDeleteCollectionQueue","running","deleteNextCollectionFromQueue","collectionToDelete","shift","dropInstance","deleteDocument","deleteDocumentByCriteria","keysForDeletion","removeItem","deleteDocumentByKey","Localbase","config","debug","bind","delete","getRandomValues","crypto","msCrypto","window","rnds8","Uint8Array","module","exports","rnds","r","Math","random","byteToHex","substr","buf","offset","bth","join","e","t","n","s","o","u","f","Error","code","l","1","_dereq_","global","scheduleDrain","draining","Mutation","MutationObserver","WebKitMutationObserver","called","observer","nextTick","element","createTextNode","observe","characterData","setImmediate","MessageChannel","createElement","scriptEl","onreadystatechange","parentNode","removeChild","documentElement","appendChild","setTimeout","channel","port1","onmessage","port2","postMessage","oldQueue","len","immediate","task","self","2","INTERNAL","handlers","REJECTED","FULFILLED","PENDING","resolver","TypeError","state","outcome","safelyResolveThenable","QueueItem","promise","onFulfilled","onRejected","callFulfilled","otherCallFulfilled","callRejected","otherCallRejected","unwrap","func","returnValue","getThen","apply","thenable","onError","onSuccess","tryToUnwrap","result","tryCatch","status","out","reason","all","iterable","prototype","values","resolved","allResolver","resolveFromAll","outValue","race","response","constructor","3","4","_typeof","Symbol","iterator","_classCallCheck","instance","Constructor","getIDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","idb","isIndexedDBValid","open","isSafari","openDatabase","test","navigator","userAgent","platform","hasFetch","fetch","indexOf","IDBKeyRange","createBlob","parts","properties","Blob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","type","Promise$1","executeCallback","callback","executeTwoCallbacks","errorCallback","normalizeKey","String","getCallback","DETECT_BLOB_SUPPORT_STORE","supportsBlobs","dbContexts","READ_ONLY","READ_WRITE","_binStringToArrayBuffer","bin","ArrayBuffer","arr","charCodeAt","_checkBlobSupportWithoutCaching","txn","transaction","blob","objectStore","put","onabort","preventDefault","stopPropagation","oncomplete","matchedChrome","match","matchedEdge","parseInt","_checkBlobSupport","_deferReadiness","dbInfo","dbContext","deferredOperation","deferredOperations","dbReady","_advanceReadiness","pop","_rejectReadiness","_getConnection","upgradeNeeded","createDbContext","db","close","dbArgs","version","openreq","onupgradeneeded","createObjectStore","oldVersion","ex","newVersion","onerror","onsuccess","_getOriginalConnection","_getUpgradedConnection","_isUpgradeNeeded","defaultVersion","isNewStore","objectStoreNames","contains","isDowngrade","isUpgrade","incVersion","_encodeBlob","reader","FileReader","onloadend","base64","btoa","target","__local_forage_encoded_blob","readAsBinaryString","_decodeBlob","encodedBlob","atob","_isEncodedBlob","_fullyReady","_initReady","_dbInfo","_tryReconnect","forages","forage","createTransaction","mode","retries","undefined","tx","_initStorage","ready","initPromises","ignoreErrors","j","slice","_defaultConfig","k","req","openCursor","iterationNumber","cursor","blobSupport","store","count","advanced","openKeyCursor","advance","currentConfig","dbPromise","deleteObjectStore","_forage2","onblocked","asyncStorage","_driver","_support","isWebSQLValid","BASE_CHARS","BLOB_TYPE_PREFIX","BLOB_TYPE_PREFIX_REGEX","SERIALIZED_MARKER","SERIALIZED_MARKER_LENGTH","TYPE_ARRAYBUFFER","TYPE_BLOB","TYPE_INT8ARRAY","TYPE_UINT8ARRAY","TYPE_UINT8CLAMPEDARRAY","TYPE_INT16ARRAY","TYPE_INT32ARRAY","TYPE_UINT16ARRAY","TYPE_UINT32ARRAY","TYPE_FLOAT32ARRAY","TYPE_FLOAT64ARRAY","TYPE_SERIALIZED_MARKER_LENGTH","toString$1","stringToBuffer","serializedString","encoded1","encoded2","encoded3","encoded4","bufferLength","p","buffer","bytes","bufferToString","base64String","substring","serialize","valueType","marker","fileReader","onload","str","readAsArrayBuffer","deserialize","parse","blobType","matcher","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","localforageSerializer","createDbTable","executeSql","_initStorage$1","dbInfoPromise","description","size","serializer","tryExecuteSql","sqlStatement","args","SYNTAX_ERR","results","rows","getItem$1","item","iterate$1","_setItem","retriesLeft","originalValue","sqlError","QUOTA_ERR","setItem$1","removeItem$1","clear$1","length$1","c","key$1","keys$1","getAllStoreNames","storeNames","dropInstance$1","operationInfo","dropTable","operations","webSQLStorage","isLocalStorageValid","localStorage","_getKeyPrefix","defaultConfig","keyPrefix","checkIfLocalStorageThrows","localStorageTestKey","_isLocalStorageUsable","_initStorage$2","clear$2","getItem$2","iterate$2","keyPrefixLength","key$2","keys$2","itemKey","length$2","removeItem$2","setItem$2","dropInstance$2","localStorageWrapper","sameValue","x","y","isNaN","includes","array","searchElement","isArray","arg","DefinedDrivers","DriverSupport","DefaultDrivers","WEBSQL","LOCALSTORAGE","DefaultDriverOrder","OptionalDriverMethods","LibraryMethods","concat","DefaultConfig","callWhenReady","localForageInstance","libraryMethod","_args","extend","localforage_js","LocalForage","driverTypeKey","driverName","defineDriver","_config","_driverSet","_initDriver","_ready","_wrapLibraryMethodsWithReady","setDriver","replace","driverObject","complianceError","driverMethods","driverMethodName","methodNotImplementedFactory","methodName","_i","_len","optionalDriverMethod","configureMissingMethods","setDriverSupport","support","info","getDriver","getDriverPromise","getSerializer","serializerPromise","drivers","supportedDrivers","_getSupportedDrivers","setDriverToConfig","extendSelfWithDriver","_extend","initDriver","currentDriverIndex","driverPromiseLoop","oldDriverSetDone","supports","libraryMethodsAndProperties","uuid","unordered","v1","toBinary16","orderedUuid","Buffer","fromBinary16","binaryOrderedUuid","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","encodingOrOffset","allocUnsafe","from","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","fromString","isBuffer","checked","copy","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","defineProperty","configurable","fill","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","equals","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","ret","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","stringtrim","base64clean","src","dst","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","maxChunkLength","len2","encodeChunk","lookup","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","NaN","rt","abs","LN2","v4","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","msecs","Date","getTime","nsecs","dt","tl","tmh","ii","Spinner","React","forwardRef","_ref","ref","bsPrefix","variant","animation","children","_ref$as","as","Component","className","props","_objectWithoutPropertiesLoose","bsSpinnerPrefix","useBootstrapPrefix","_extends","classNames","displayName"],"mappings":"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","file":"static/js/3.f08d88c2.chunk.js","sourcesContent":["import localForage from \"localforage\";\n\nexport default function collection(collectionName) {\n  if (!collectionName) {\n    this.userErrors.push('No collection name specified in collection() method.')\n    return this\n  }\n  else if (typeof collectionName !== 'string') {\n    this.userErrors.push('Collection name in collection() method must be a string and not an object, number or boolean.')\n    return this\n  }\n  else {\n    this.collectionName = collectionName\n\n    let dbName = this.dbName\n\n    // if we've not created a localForage instance \n    // for this collection, create one\n    if (!(collectionName in this.lf)) {\n      this.lf[collectionName] = localForage.createInstance({\n        driver      : localForage.INDEXEDDB,\n        name        : dbName,\n        storeName   : collectionName\n      })\n    }\n    return this\n  }\n\n}","export default function doc(docSelectionCriteria) {\n  if (!docSelectionCriteria) {\n    this.userErrors.push('No document criteria specified in doc() method. Use a string (with a key) or an object (with criteria) e.g. { id: 1 }')\n  }\n  else if (typeof docSelectionCriteria !== 'string' && typeof docSelectionCriteria !== 'object') {\n    this.userErrors.push('Document criteria specified in doc() method must not be a number or boolean. Use a string (with a key) or an object (with criteria) e.g. { id: 1 }')\n  }\n  else {\n    this.docSelectionCriteria = docSelectionCriteria\n  }\n  return this\n}","export default function orderBy(property, direction) {\n  if (!property) {\n    this.userErrors.push(\"No field name specified in orderBy() method. Use a string e.g. 'name'\")\n  }\n  else if (typeof property !== 'string') {\n    this.userErrors.push(\"First parameter in orderBy() method must be a string (a field name) e.g. 'name'\")\n  }\n  else {\n    this.orderByProperty = property\n  }\n  if (direction) {\n    if (direction !== 'asc' && direction !== 'desc') {\n      this.userErrors.push(\"Second parameter in orderBy() method must be a string set to 'asc' or 'desc'.\")\n    }\n    else {\n      this.orderByDirection = direction\n    }\n  }\n  return this\n}","export default function limit(limitBy) {\n  if (!limitBy) {\n    this.userErrors.push(\"No integer specified in limit() method.\")\n  }\n  else if (!Number.isInteger(limitBy)) {\n    this.userErrors.push(\"Limit parameter in limit() method must be an integer (e.g. 3) and not a float, boolean, string or object.\")\n  }\n  else {\n    this.limitBy = limitBy\n  }\n  return this\n}","export default function isSubset(superObj, subObj) {\n  return Object.keys(subObj).every(ele => {\n      if (typeof subObj[ele] == 'object') {\n          return isSubset(superObj[ele], subObj[ele]);\n      }\n      return subObj[ele] === superObj[ele]\n  });\n}","let logger = {\n  baseStyle: `\n    padding: 2px 5px;\n    background-color: #124F5C;\n    border-radius: 4px;\n    color: white; \n  `,\n  colors: {\n    log: '#124F5C',\n    error: '#ed2939',\n    warn: '#f39c12'\n  },\n  log(message, secondary) {\n    if (process.env.NODE_ENV == 'development' && this.config.debug) {\n      let style = logger.baseStyle + `background-color: ${ logger.colors.log }`\n      if (secondary) {\n        console.log('%clocalbase', style, message, secondary)\n      }\n      else {\n        console.log('%clocalbase', style, message)\n      }\n    }\n  },\n  error(message, secondary) {\n    if (process.env.NODE_ENV == 'development' && this.config.debug) {\n      let style = logger.baseStyle + `background-color: ${ logger.colors.error }`\n      console.error('%clocalbase', style, message)\n    }\n  },  \n  warn(message, secondary) {\n    if (process.env.NODE_ENV == 'development' && this.config.debug) {\n      let style = logger.baseStyle + `background-color: ${ logger.colors.warn }`\n      console.warn('%clocalbase', style, message)\n    }\n  }\n}\n\nexport default logger","export default function reset() {\n  this.collectionName = null\n  this.orderByProperty = null\n  this.orderByDirection = null\n  this.limitBy = null\n  this.docSelectionCriteria = null\n  this.userErrors = []\n}","export default function selectionLevel() {\n  let level\n  if (!this.collectionName && !this.docSelectionCriteria) level = 'db'\n  else if (this.collectionName && !this.docSelectionCriteria) level = 'collection'\n  else if (this.collectionName && this.docSelectionCriteria) level = 'doc'\n  return level\n}","import logger from '../utils/logger'\nimport reset from './reset'\n\nexport default function showUserErrors() {\n  for (let i = 0; i < this.userErrors.length; i++) {\n    logger.error.call(this, this.userErrors[i])\n  }\n  reset.call(this)\n}","import isSubset from '../../utils/isSubset'\nimport logger from \"../../utils/logger\"\nimport reset from '../../api-utils/reset'\nimport selectionLevel from '../../api-utils/selectionLevel'\nimport showUserErrors from '../../api-utils/showUserErrors'\n\nexport default function get(options = { keys: false }) {\n\n  // get collection\n  this.getCollection = () => {\n    let collectionName = this.collectionName\n    let orderByProperty = this.orderByProperty\n    let orderByDirection = this.orderByDirection\n    let limitBy = this.limitBy\n\n    let collection = []\n    return this.lf[collectionName].iterate((value, key) => {\n      let collectionItem = {}\n      if (!options.keys) {\n        collectionItem = value\n      }\n      else {\n        collectionItem = {\n          key: key,\n          data: value\n        }\n      }\n      collection.push(collectionItem)\n    }).then(() => {\n      let logMessage = `Got \"${ collectionName }\" collection`\n      // orderBy\n      if (orderByProperty) {\n        logMessage += `, ordered by \"${ orderByProperty }\"`\n        if (!options.keys) {\n          collection.sort((a, b) => {\n            return a[orderByProperty].toString().localeCompare(b[orderByProperty].toString())\n          })\n        }\n        else {\n          collection.sort((a, b) => {\n            return a.data[orderByProperty].toString().localeCompare(b.data[orderByProperty].toString())\n          })\n        }\n      }\n      if (orderByDirection == 'desc') {\n        logMessage += ` (descending)`\n        collection.reverse()\n      }\n      // limit\n      if (limitBy) {\n        logMessage += `, limited to ${ limitBy }`\n        collection = collection.splice(0,limitBy)\n      }\n      logMessage += `:`\n      logger.log.call(this, logMessage, collection)\n      reset.call(this)\n      return collection\n    })\n  }\n\n  // get document\n  this.getDocument = () => {\n    let collectionName = this.collectionName\n    let docSelectionCriteria = this.docSelectionCriteria\n\n    let collection = []\n    let document = {}\n\n    // get document by criteria\n    this.getDocumentByCriteria = () => {\n      return this.lf[collectionName].iterate((value, key) => {\n        if (isSubset(value, docSelectionCriteria)) {\n          collection.push(value)\n        }\n      }).then(() => {\n        if (!collection.length) {\n          logger.error.call(this, `Could not find Document in \"${ collectionName }\" collection with criteria: ${ JSON.stringify(docSelectionCriteria)}`)\n        }\n        else {\n          document = collection[0]\n          logger.log.call(this, `Got Document with ${ JSON.stringify(docSelectionCriteria) }:`, document)\n          reset.call(this)\n          return document\n        }\n      })\n    }\n\n    // get document by key\n    this.getDocumentByKey = () => {\n      return this.lf[collectionName].getItem(docSelectionCriteria).then((value) => {\n        document = value\n        if (document) {\n          logger.log.call(this, `Got Document with key ${ JSON.stringify(docSelectionCriteria) }:`, document)\n        }\n        else {\n          logger.error.call(this, `Could not find Document in \"${ collectionName }\" collection with Key: ${ JSON.stringify(docSelectionCriteria)}`)\n        }\n        reset.call(this)\n        return document\n      }).catch(err => {\n        logger.error.call(this, `Could not find Document in \"${ collectionName }\" collection with Key: ${ JSON.stringify(docSelectionCriteria)}`)\n        reset.call(this)\n      });\n    }\n\n    if (typeof docSelectionCriteria == 'object') {\n      return this.getDocumentByCriteria()\n    }\n    else {\n      return this.getDocumentByKey()\n    }\n  }\n\n  // check for user errors\n  if (!(typeof options == 'object' && options instanceof Array == false)) {\n    this.userErrors.push('Data passed to .get() must be an object. Not an array, string, number or boolean. The object must contain a \"keys\" property set to true or false, e.g. { keys: true }')\n  }\n  else {\n    if (!options.hasOwnProperty('keys')) {\n      this.userErrors.push('Object passed to get() method must contain a \"keys\" property set to boolean true or false, e.g. { keys: true }')\n    }\n    else {\n      if (typeof options.keys !== 'boolean') {\n        this.userErrors.push('Property \"keys\" passed into get() method must be assigned a boolean value (true or false). Not a string or integer.')\n      }\n    }\n  }\n\n  if (!this.userErrors.length) {\n    let currentSelectionLevel = selectionLevel.call(this)\n\n    if (currentSelectionLevel == 'collection') {\n      return this.getCollection()\n    }\n    else if (currentSelectionLevel == 'doc') {\n      return this.getDocument()\n    }\n  }\n  else {\n    showUserErrors.call(this)\n    return null\n  }\n\n}","import logger from '../utils/logger'\nimport reset from '../api-utils/reset'\n\nexport default function success(message, data) {\n  reset.call(this)\n  logger.log.call(this, message, data)\n  return (`Success: ${ message } ${ JSON.stringify(data) }`)\n}","import logger from '../utils/logger'\nimport reset from '../api-utils/reset'\n\nexport default function error(message) {\n  reset.call(this)\n  logger.error.call(this, message)\n  return (`Error: ${ message }`)\n}","let UUID = require('ordered-uuid')\nimport success from '../../api-utils/success'\nimport error from '../../api-utils/error'\nimport showUserErrors from '../../api-utils/showUserErrors'\n\nexport default function add(data, keyProvided) {\n  // check for user errors\n  if (!data) {\n    this.userErrors.push('No data specified in add() method. You must use an object, e.g { id: 1, name: \"Bill\", age: 47 }')\n  }\n  else if (!(typeof data == 'object' && data instanceof Array == false)) {\n    this.userErrors.push('Data passed to .add() must be an object. Not an array, string, number or boolean.')\n  }\n\n  // no user errors, do the add\n  if (!this.userErrors.length) {\n    let collectionName = this.collectionName\n  \n    return new Promise((resolve, reject) => {\n      let key = null\n\n      // if no key provided, generate random, ordered key\n      if (!keyProvided) {\n        key = UUID.generate()\n      }\n      else {\n        key = keyProvided\n      }\n\n      return this.lf[collectionName].setItem(key, data).then(() => {\n        resolve(\n          success.call(\n            this,\n            `Document added to \"${ collectionName }\" collection:`,\n            { key, data }\n          )\n        )\n      }).catch(err => {\n        reject(\n          error.call(\n            this,\n            `Could not add Document to ${ collectionName } collection.`\n          )\n        )\n      })\n    })\n  }\n  else {\n    showUserErrors.call(this)\n  }\n}","export default function updateObject(obj/*, …*/) {\n  for (var i=1; i<arguments.length; i++) {\n      for (var prop in arguments[i]) {\n          var val = arguments[i][prop];\n          // if (typeof val == \"object\") // this also applies to arrays or null!\n          //   updateObject(obj[prop], val);\n          // else\n          //    obj[prop] = val;\n          obj[prop] = val;\n      }\n  }\n  return obj;\n}","import logger from '../../utils/logger'\nimport isSubset from '../../utils/isSubset'\nimport updateObject from '../../utils/updateObject'\nimport success from '../../api-utils/success'\nimport error from '../../api-utils/error'\nimport showUserErrors from '../../api-utils/showUserErrors'\n\nexport default function update(docUpdates) {\n  let collectionName = this.collectionName\n  let docSelectionCriteria = this.docSelectionCriteria\n\n  return new Promise((resolve, reject) => {\n\n    // update document by criteria\n    this.updateDocumentByCriteria = () => {\n      let docsToUpdate = []\n      this.lf[collectionName].iterate((value, key) => {\n        if (isSubset(value, docSelectionCriteria)) {\n          let newDocument = updateObject(value, docUpdates)\n          docsToUpdate.push({ key, newDocument })\n        }\n      }).then(() => {\n        if (!docsToUpdate.length) {\n          reject(\n            error.call(\n              this,\n              `No Documents found in ${ collectionName } Collection with criteria ${ JSON.stringify(docSelectionCriteria) }.`\n            )\n          )\n        }\n        if (docsToUpdate.length > 1) {\n          logger.warn.call(this, `Multiple documents (${ docsToUpdate.length }) with ${ JSON.stringify(docSelectionCriteria) } found for updating.`)\n        }\n      }).then(() => {\n        docsToUpdate.forEach((docToUpdate, index) => {\n          this.lf[collectionName].setItem(docToUpdate.key, docToUpdate.newDocument).then(value => {\n\n            if (index === (docsToUpdate.length - 1)) {\n              resolve(\n                success.call(\n                  this,\n                  `${ docsToUpdate.length } Document${ docsToUpdate.length > 1 ? 's' : '' } in \"${ collectionName }\" collection with ${ JSON.stringify(docSelectionCriteria) } updated with:`,\n                  docUpdates\n                )\n              )\n            }\n\n          }).catch(err => {\n            reject(\n              error.call(\n                this,\n                `Could not update ${ docsToUpdate.length } Documents in ${ collectionName } Collection.`\n              )\n            )\n          })\n        })\n      })\n    }\n  \n    // update document by key\n    this.updateDocumentByKey = () => {\n      let newDocument = {}\n      this.lf[collectionName].getItem(docSelectionCriteria).then(value => {\n        newDocument = updateObject(value, docUpdates)\n        this.lf[collectionName].setItem(docSelectionCriteria, newDocument)\n        resolve(\n          success.call(\n            this,\n            `Document in \"${ collectionName }\" collection with key ${ JSON.stringify(docSelectionCriteria) } updated to:`,\n            newDocument\n          )\n        )\n      }).catch(err => {\n        reject(\n          error.call(\n            this,\n            `No Document found in \"${ collectionName }\" collection with key ${ JSON.stringify(docSelectionCriteria) }`\n          )\n        )\n      })\n    }\n\n    // check for user errors\n    if (!docUpdates) {\n      this.userErrors.push('No update object provided to update() method. Use an object e.g. { name: \"William\" }')\n    }\n    else if (!(typeof docUpdates == 'object' && docUpdates instanceof Array == false)) {\n      this.userErrors.push('Data passed to .update() must be an object. Not an array, string, number or boolean.')\n    }\n\n    if (!this.userErrors.length) {\n      if (typeof docSelectionCriteria == 'object') {\n        this.updateDocumentByCriteria()\n      }\n      else {\n        this.updateDocumentByKey()\n      }\n    }\n    else {\n      showUserErrors.call(this)\n    }\n\n  })\n\n}","import logger from '../../utils/logger'\nimport isSubset from '../../utils/isSubset'\nimport success from '../../api-utils/success'\nimport error from '../../api-utils/error'\nimport showUserErrors from '../../api-utils/showUserErrors'\nimport selectionLevel from '../../api-utils/selectionLevel'\n\nexport default function set(newDocument, options = { keys: false }) {\n\n  let collectionName = this.collectionName\n  let docSelectionCriteria = this.docSelectionCriteria\n  let currentSelectionLevel = selectionLevel.call(this)\n\n  return new Promise((resolve, reject) => {\n\n    // set collection\n    this.setCollection = () => {\n      this.lf[collectionName].clear().then(() => {\n        if (!options.keys) {\n          newDocument.forEach(doc => {\n            this.add(doc)\n          })\n          resolve(\n            success.call(\n              this,\n              `Collection \"${ collectionName }\" set with ${ newDocument.length } Documents`, \n              newDocument\n            )\n          )\n        }\n        else {\n          console.log('keys provided')\n          // check that every document in array has a _key property\n          let docsWithoutKey = 0\n          newDocument.forEach(doc => {\n            if (!doc.hasOwnProperty('_key')) {\n              docsWithoutKey++\n            }\n          })\n          if (docsWithoutKey) {\n            reject(\n              error.call(\n                this,\n                `Documents provided to .set() in an array must each have a _key property set to a string.`\n              )\n            )\n          }\n          else {\n            newDocument.forEach(doc => {\n              let key = doc._key\n              delete doc._key\n              this.add(doc, key)\n            })\n            resolve(\n              success.call(\n                this,\n                `Collection \"${ collectionName }\" set with ${ newDocument.length } Documents`, \n                newDocument\n              )\n            )\n          }\n        }\n      }).catch(err => {\n        reject(\n          error.call(\n            this,\n            `Could not set ${ collectionName } Collection with data ${ JSON.stringify(newDocument) }.`\n          )\n        )\n      });\n    }\n\n    // set document\n    this.setDocument = () => {\n      \n      // set document by criteria\n      this.setDocumentByCriteria = () => {\n        let docsToSet = []\n        this.lf[collectionName].iterate((value, key) => {\n          if (isSubset(value, docSelectionCriteria)) {\n            docsToSet.push({ key, newDocument })\n          }\n        }).then(() => {\n          if (!docsToSet.length) {\n            reject(\n              error.call(\n                this,\n                `No Documents found in ${ collectionName } Collection with criteria ${ JSON.stringify(docSelectionCriteria) }.`\n              )\n            )\n          }\n          if (docsToSet.length > 1) {\n            logger.warn.call(this, `Multiple documents (${ docsToSet.length }) with ${ JSON.stringify(docSelectionCriteria) } found for setting.`)\n          }\n        }).then(() => {\n          docsToSet.forEach((docToSet, index) => {\n            this.lf[collectionName].setItem(docToSet.key, docToSet.newDocument).then(value => {\n  \n              if (index === (docsToSet.length - 1)) {\n                resolve(\n                  success.call(\n                    this,\n                    `${ docsToSet.length } Document${ docsToSet.length > 1 ? 's' : '' } in \"${ collectionName }\" collection with ${ JSON.stringify(docSelectionCriteria) } set to:`, \n                    newDocument\n                  )\n                )\n              }\n            }).catch(err => {\n              reject(\n                error.call(\n                  this,\n                  `Could not set ${ docsToSet.length } Documents in ${ collectionName } Collection.`\n                )\n              )\n            })\n          })\n        })\n      }\n  \n      // set document by key\n      this.setDocumentByKey = () => {\n        this.lf[collectionName].setItem(docSelectionCriteria, newDocument).then(value => {\n          resolve(\n            success.call(\n              this,\n              `Document in \"${ collectionName }\" collection with key ${ JSON.stringify(docSelectionCriteria) } set to:`,\n              newDocument\n            )\n          )\n        }).catch(err => {\n          reject(\n            error.call(\n              this,\n              `Document in \"${ collectionName }\" collection with key ${ JSON.stringify(docSelectionCriteria) } could not be set.`\n            )\n          )\n        })\n      }\n\n      if (typeof docSelectionCriteria == 'object') {\n        return this.setDocumentByCriteria()\n      }\n      else {\n        return this.setDocumentByKey()\n      }\n    }\n\n    // check for user errors\n    if (!newDocument) {\n      this.userErrors.push('No new Document object provided to set() method. Use an object e.g. { id: 1, name: \"Bill\", age: 47 }')\n    }\n    else if (currentSelectionLevel === 'doc') {\n      if (!(typeof newDocument == 'object' && newDocument instanceof Array == false)) {\n        this.userErrors.push('Data passed to .set() must be an object. Not an array, string, number or boolean.')\n      }\n    }\n    else if (currentSelectionLevel === 'collection') {\n      if (!(typeof newDocument == 'object' && newDocument instanceof Array == true)) {\n        this.userErrors.push('Data passed to .set() must be an array of objects. Not an object, string, number or boolean.')\n      }\n    }\n\n    if (!this.userErrors.length) {\n      if (currentSelectionLevel == 'collection') {\n        return this.setCollection()\n      }\n      else if (currentSelectionLevel == 'doc') {\n        return this.setDocument()\n      }\n    }\n    else {\n      showUserErrors.call(this)\n    }\n\n  })\n}","import isSubset from '../../utils/isSubset'\nimport logger from \"../../utils/logger\"\nimport selectionLevel from '../../api-utils/selectionLevel'\nimport success from '../../api-utils/success'\nimport error from '../../api-utils/error'\nimport showUserErrors from '../../api-utils/showUserErrors'\n\nexport default function deleteIt() {\n\n  return new Promise((resolve, reject) => {\n\n    // delete database\n    this.deleteDatabase = () => {\n      let dbName = this.dbName\n\n      indexedDB.deleteDatabase(dbName)\n      resolve(\n        success.call(\n          this,\n          `Database \"${ dbName }\" deleted.`\n        )\n      )\n    }\n\n    // delete collection\n    this.deleteCollection = () => {\n      let dbName = this.dbName\n      let collectionName = this.collectionName\n\n      // we can only delete one collection at a time, which is why we need a queue\n\n      this.addToDeleteCollectionQueue = (collectionName) => {\n        this.deleteCollectionQueue.queue.push(collectionName)\n        this.runDeleteCollectionQueue()\n      }\n\n      this.runDeleteCollectionQueue = () => {\n        if (this.deleteCollectionQueue.running == false) {\n          this.deleteCollectionQueue.running = true\n          this.deleteNextCollectionFromQueue()\n        }\n      }\n\n      this.deleteNextCollectionFromQueue = () => {\n        if (this.deleteCollectionQueue.queue.length) {\n          let collectionToDelete = this.deleteCollectionQueue.queue[0]\n          this.deleteCollectionQueue.queue.shift()\n\n          this.lf[collectionToDelete].dropInstance({\n            name        : dbName,\n            storeName   : collectionToDelete\n          }).then(() => {\n            this.deleteNextCollectionFromQueue()\n            resolve(\n              success.call(\n                this,\n                `Collection \"${ collectionToDelete }\" deleted.`\n              )\n            )\n          }).catch(error => {\n            reject(\n              error.call(\n                this,\n                `Collection \"${ collectionToDelete }\" could not be deleted.`\n              )\n            )\n          })\n        }\n        else {\n          this.deleteCollectionQueue.running = false\n        }\n      }\n\n      this.addToDeleteCollectionQueue(collectionName)\n    }\n\n    // delete document\n    this.deleteDocument = () => {\n\n      let collectionName = this.collectionName\n      let docSelectionCriteria = this.docSelectionCriteria\n\n      // delete document by criteria\n      this.deleteDocumentByCriteria = () => {\n        let keysForDeletion = []\n        this.lf[collectionName].iterate((value, key) => {\n          if (isSubset(value, docSelectionCriteria)) {\n            keysForDeletion.push(key)\n          }\n        }).then(() => {\n          if (!keysForDeletion.length) {\n            reject(\n              error.call(\n                this,\n                `No Documents found in \"${ collectionName }\" Collection with criteria ${ JSON.stringify(docSelectionCriteria) }. No documents deleted.`\n              )\n            )\n          }\n          if (keysForDeletion.length > 1) {\n            logger.warn.call(this, `Multiple documents (${ keysForDeletion.length }) with ${ JSON.stringify(docSelectionCriteria) } found.`)\n          }\n        }).then(() => {\n          keysForDeletion.forEach((key, index) => {\n            this.lf[collectionName].removeItem(key).then(() => {\n              if (index === (keysForDeletion.length - 1)) {\n                resolve(\n                  success.call(\n                    this,\n                    `${ keysForDeletion.length } Document${ keysForDeletion.length > 1 ? 's' : '' } with ${ JSON.stringify(docSelectionCriteria) } deleted.`\n                  )\n                )\n              }\n            }).catch(err => {\n              reject(\n                error.call(\n                  this,\n                  `Could not delete ${ keysForDeletion.length } Documents in ${ collectionName } Collection.`\n                )\n              )\n            })\n          })\n        })\n      }\n\n      // delete document by key\n      this.deleteDocumentByKey = () => {\n        this.lf[collectionName].getItem(docSelectionCriteria).then(value => {\n          if (value) {\n            this.lf[collectionName].removeItem(docSelectionCriteria).then(() => {\n              resolve(\n                success.call(\n                  this,\n                  `Document with key ${ JSON.stringify(docSelectionCriteria) } deleted.`\n                )\n              )\n            }).catch(function(err) {\n              reject(\n                error.call(\n                  this,\n                  `No Document found in \"${ collectionName }\" Collection with key ${ JSON.stringify(docSelectionCriteria) }. No document was deleted.`\n                )\n              )\n            });\n          }\n          else {\n            reject(\n              error.call(\n                this,\n                `No Document found in \"${ collectionName }\" Collection with key ${ JSON.stringify(docSelectionCriteria) }. No document was deleted.`\n              )\n            )\n          }\n        });\n\n      }\n\n      if (typeof docSelectionCriteria == 'object') {\n        return this.deleteDocumentByCriteria()\n      }\n      else {\n        return this.deleteDocumentByKey()\n      }\n    }\n    \n    if (!this.userErrors.length) {\n      let currentSelectionLevel = selectionLevel.call(this)\n  \n      if (currentSelectionLevel == 'db') {\n        return this.deleteDatabase()\n      }\n      else if (currentSelectionLevel == 'collection') {\n        return this.deleteCollection()\n      }\n      else if (currentSelectionLevel == 'doc') {\n        return this.deleteDocument()\n      }\n    }\n    else {\n      showUserErrors.call(this)\n    }\n\n  })\n\n}","import Localbase from './localbase/localbase'\n\nexport default Localbase","\"use strict\"\n\n// import api methods\nimport collection from './api/selectors/collection'\nimport doc from './api/selectors/doc'\n\nimport orderBy from './api/filters/orderBy'\nimport limit from './api/filters/limit'\n\nimport get from './api/actions/get'\nimport add from './api/actions/add'\nimport update from './api/actions/update'\nimport set from './api/actions/set'\nimport deleteIt from './api/actions/delete'\n\n// Localbase\nexport default class Localbase {\n  constructor(dbName) {\n\n    // properties\n    this.dbName = dbName\n    this.lf = {} // where we store our localForage instances\n    this.collectionName = null\n    this.orderByProperty = null\n    this.orderByDirection = null\n    this.limitBy = null\n    this.docSelectionCriteria = null\n\n    // queues\n    this.deleteCollectionQueue = {\n      queue: [],\n      running: false\n    }\n\n    // config\n    this.config = {\n      debug: true\n    }\n\n    // user errors - e.g. wrong type or no value passed to a method\n    this.userErrors = []\n\n    // api - selectors\n    this.collection = collection.bind(this)\n    this.doc = doc.bind(this)\n\n    // api - filters\n    this.orderBy = orderBy.bind(this)\n    this.limit = limit.bind(this)\n\n    // api - actions\n    this.get = get.bind(this)\n    this.add = add.bind(this)\n    this.update = update.bind(this)\n    this.set = set.bind(this)\n    this.delete = deleteIt.bind(this)\n\n  }\n}","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.9.0\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb || !idb.open) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support\n        // (see: https://github.com/pouchdb/pouchdb/issues/5572).\n        // Safari 10.1 shipped with fetch, we can use that to detect it.\n        // Note: this creates issues with `window.fetch` polyfills and\n        // overrides; see:\n        // https://github.com/localForage/localForage/issues/856\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback returns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openKeyCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openKeyCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = req.onblocked = function (err) {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(err);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n","'use strict';\n\nvar uuid = require('uuid');\n\nmodule.exports = {\n  generate: function() {\n    var unordered = uuid.v1();\n    return unordered.substr(14, 4) + unordered.substr(9, 4) + unordered.substr(0, 8) + unordered.substr(19, 4) + unordered.substr(24, unordered.length);\n  },\n\n  toBinary16: function(orderedUuid) {\n    return new Buffer(orderedUuid, 'hex');\n  },\n\n  fromBinary16: function(binaryOrderedUuid) {\n    return binaryOrderedUuid.toString('hex');\n  }\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Spinner = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      animation = _ref.animation,\n      size = _ref.size,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"animation\", \"size\", \"children\", \"as\", \"className\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  var bsSpinnerPrefix = bsPrefix + \"-\" + animation;\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsSpinnerPrefix, size && bsSpinnerPrefix + \"-\" + size, variant && \"text-\" + variant)\n  }), children);\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;"],"sourceRoot":""}